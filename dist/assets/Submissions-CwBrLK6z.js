import{a as e,d as t,r as n,v as r}from"./vendor-react-DDJd_2jx.js";import{I as i,M as a,R as o,u as s}from"./vendor-ui-dKvDeG77.js";import"./vendor-utils-DddD4xHt.js";import{_ as c,d as l,f as u,g as d,h as f,n as p,p as m}from"./index-Dl8FHqTb.js";var h=r(),g=n(),_=()=>{let{language:n}=c(),r=t(),[_,v]=(0,h.useState)([]),[y,b]=(0,h.useState)(!0),x=(0,h.useCallback)(async()=>{b(!0);try{let e=await p.getSubmissions();e.success&&e.submissions?v(e.submissions):f(e.error||`Failed to fetch submissions`,`error`)}catch{f(d(`server_error`,n),`error`)}finally{b(!1)}},[n]);(0,h.useEffect)(()=>{x()},[x]);let S=async e=>{try{f(d(`delete_functionality_not_implemented`,n),`error`)}catch{f(d(`failed_to_delete_submission`,n),`error`)}};return y?(0,g.jsx)(`div`,{className:`text-center py-8`,children:(0,g.jsx)(a,{className:`w-10 h-10 animate-spin text-bbcRed`})}):(0,g.jsxs)(`div`,{className:`space-y-4 sm:space-y-6`,children:[(0,g.jsx)(`div`,{className:`mb-4 sm:mb-6`,children:(0,g.jsx)(`h1`,{className:`text-xl sm:text-2xl font-bold`,children:d(`user_submissions`,n)})}),(0,g.jsx)(`div`,{className:`bg-card rounded-xl border border-border-color shadow-sm overflow-hidden`,children:_.length===0?(0,g.jsxs)(`div`,{className:`p-6 sm:p-8 text-center text-muted-text`,children:[(0,g.jsx)(i,{className:`w-16 h-16 mx-auto mb-4 text-border-color`}),(0,g.jsx)(`p`,{className:`text-base sm:text-lg font-bold mb-2`,children:d(`no_submissions_found`,n)})]}):(0,g.jsx)(`div`,{className:`grid grid-cols-1 gap-3 sm:gap-4 p-3 sm:p-4`,children:_.map(t=>(0,g.jsxs)(`button`,{onClick:()=>m(window.innerWidth<768,r,`/admin/submissions/${t.id}`),type:`button`,className:`bg-card p-3 sm:p-4 rounded-lg border border-border-color group cursor-pointer hover:bg-muted-bg transition-colors w-full text-left`,children:[(0,g.jsxs)(`div`,{className:`flex items-start justify-between mb-3`,children:[(0,g.jsxs)(`div`,{className:`flex items-center gap-3 min-w-0`,children:[(0,g.jsx)(`div`,{className:`w-10 h-10 rounded-lg bg-muted-bg flex items-center justify-center shrink-0 border border-border-color font-bold text-card-text text-xs`,children:t.file_path?`SUB`:`MSG`}),(0,g.jsxs)(`div`,{className:`truncate`,children:[(0,g.jsx)(e,{to:`/admin/articles/${t.article_id}/edit`,className:`font-bold text-sm truncate block hover:text-bbcRed`,children:l(t.title_en||t.title_bn||`Unknown Article`)}),(0,g.jsx)(`p`,{className:`text-xs text-muted-text truncate`,children:t.article_id})]})]}),(0,g.jsxs)(`div`,{className:`flex items-center gap-1 shrink-0 ml-2`,children:[t.file_path&&(0,g.jsx)(`a`,{href:t.file_path,target:`_blank`,rel:`noopener noreferrer`,className:`p-2 hover:bg-muted-bg rounded-lg`,children:(0,g.jsx)(o,{className:`w-4 h-4`})}),(0,g.jsx)(`button`,{type:`button`,onClick:()=>{window.confirm(d(`confirm_delete_submission`,n))&&S(t.id)},className:`p-2 hover:bg-danger/10 text-danger rounded-lg`,children:(0,g.jsx)(s,{className:`w-4 h-4`})})]})]}),(0,g.jsx)(`div`,{className:`text-sm text-card-text max-h-12 overflow-hidden`,children:l(t.message||`-`)}),(0,g.jsx)(`div`,{className:`text-xs text-muted-text mt-2`,children:u(t.created_at,n)})]},t.id))})})]})};export{_ as default};