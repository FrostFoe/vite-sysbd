import{r as e}from"./rolldown-runtime-Ckerh37x.js";import{h as t,l as n,r,t as i}from"./vendor-react-ChU-be3S.js";import{I as a,M as o,R as s,u as c}from"./vendor-ui-B4TOY8DD.js";import{d as l,f as u,g as d,o as f,p}from"./index-D1lUyk6S.js";var m=e(t(),1),h=e(i(),1),g=()=>{let e=n(),[t,i]=(0,m.useState)([]),[g,_]=(0,m.useState)(!0),v=(0,m.useCallback)(async()=>{_(!0);try{let e=await f.getSubmissions();e.success&&e.submissions?i(e.submissions):d(e.error||`Failed to fetch submissions`,`error`)}catch{d(`সার্ভার ত্রুটি!`,`error`)}finally{_(!1)}},[]);(0,m.useEffect)(()=>{v()},[v]);let y=async e=>{try{d(`জমা মুছে ফেলার বৈশিষ্ট্য এখনও বাস্তবায়িত হয়নি`,`error`)}catch{d(`জমা মুছে ফেলতে ব্যর্থ হয়েছে`,`error`)}};return g?(0,h.jsx)(`div`,{className:`text-center py-8`,children:(0,h.jsx)(o,{className:`w-10 h-10 animate-spin text-bbcRed`})}):(0,h.jsxs)(`div`,{className:`space-y-4 sm:space-y-6`,children:[(0,h.jsx)(`div`,{className:`mb-4 sm:mb-6`,children:(0,h.jsx)(`h1`,{className:`text-xl sm:text-2xl font-bold`,children:`ব্যবহারকারী জমা দেওয়া তথ্য`})}),(0,h.jsx)(`div`,{className:`bg-card rounded-xl border border-border-color shadow-sm overflow-hidden`,children:t.length===0?(0,h.jsxs)(`div`,{className:`p-6 sm:p-8 text-center text-muted-text`,children:[(0,h.jsx)(a,{className:`w-16 h-16 mx-auto mb-4 text-border-color`}),(0,h.jsx)(`p`,{className:`text-base sm:text-lg font-bold mb-2`,children:`কোনো জমা পাওয়া যায়নি`})]}):(0,h.jsx)(`div`,{className:`grid grid-cols-1 gap-3 sm:gap-4 p-3 sm:p-4`,children:t.map(t=>(0,h.jsxs)(`button`,{onClick:()=>p(window.innerWidth<768,e,`/admin/submissions/${t.id}`),type:`button`,className:`bg-card p-3 sm:p-4 rounded-lg border border-border-color group cursor-pointer hover:bg-muted-bg transition-colors w-full text-left`,children:[(0,h.jsxs)(`div`,{className:`flex items-start justify-between mb-3`,children:[(0,h.jsxs)(`div`,{className:`flex items-center gap-3 min-w-0`,children:[(0,h.jsx)(`div`,{className:`w-10 h-10 rounded-lg bg-muted-bg flex items-center justify-center shrink-0 border border-border-color font-bold text-card-text text-xs`,children:t.file_path?`SUB`:`MSG`}),(0,h.jsxs)(`div`,{className:`truncate`,children:[(0,h.jsx)(r,{to:`/admin/articles/${t.article_id}/edit`,className:`font-bold text-sm truncate block hover:text-bbcRed`,children:l(t.title_en||t.title_bn||`Unknown Article`)}),(0,h.jsx)(`p`,{className:`text-xs text-muted-text truncate`,children:t.article_id})]})]}),(0,h.jsxs)(`div`,{className:`flex items-center gap-1 shrink-0 ml-2`,children:[t.file_path&&(0,h.jsx)(`a`,{href:t.file_path,target:`_blank`,rel:`noopener noreferrer`,className:`p-2 hover:bg-muted-bg rounded-lg`,children:(0,h.jsx)(s,{className:`w-4 h-4`})}),(0,h.jsx)(`button`,{type:`button`,onClick:()=>{window.confirm(`আপনি কি নিশ্চিত যে আপনি এই জমা মুছে ফেলতে চান?`)&&y(t.id)},className:`p-2 hover:bg-danger/10 text-danger rounded-lg`,children:(0,h.jsx)(c,{className:`w-4 h-4`})})]})]}),(0,h.jsx)(`div`,{className:`text-sm text-card-text max-h-12 overflow-hidden`,children:l(t.message||`-`)}),(0,h.jsx)(`div`,{className:`text-xs text-muted-text mt-2`,children:u(t.created_at,`bn`)})]},t.id))})})]})};export{g as default};