import{a as e,d as t,r as n,v as r}from"./vendor-react-DDJd_2jx.js";import{I as i,M as a,R as o,u as s}from"./vendor-ui-CMDLMZmI.js";import"./vendor-utils-DddD4xHt.js";import{d as c,f as l,g as u,o as d,p as f}from"./index-DPp60x_g.js";var p=r(),m=n(),h=()=>{let n=t(),[r,h]=(0,p.useState)([]),[g,_]=(0,p.useState)(!0),v=(0,p.useCallback)(async()=>{_(!0);try{let e=await d.getSubmissions();e.success&&e.submissions?h(e.submissions):u(e.error||`Failed to fetch submissions`,`error`)}catch{u(`সার্ভার ত্রুটি!`,`error`)}finally{_(!1)}},[]);(0,p.useEffect)(()=>{v()},[v]);let y=async e=>{try{u(`জমা মুছে ফেলার বৈশিষ্ট্য এখনও বাস্তবায়িত হয়নি`,`error`)}catch{u(`জমা মুছে ফেলতে ব্যর্থ হয়েছে`,`error`)}};return g?(0,m.jsx)(`div`,{className:`text-center py-8`,children:(0,m.jsx)(a,{className:`w-10 h-10 animate-spin text-bbcRed`})}):(0,m.jsxs)(`div`,{className:`space-y-4 sm:space-y-6`,children:[(0,m.jsx)(`div`,{className:`mb-4 sm:mb-6`,children:(0,m.jsx)(`h1`,{className:`text-xl sm:text-2xl font-bold`,children:`ব্যবহারকারী জমা দেওয়া তথ্য`})}),(0,m.jsx)(`div`,{className:`bg-card rounded-xl border border-border-color shadow-sm overflow-hidden`,children:r.length===0?(0,m.jsxs)(`div`,{className:`p-6 sm:p-8 text-center text-muted-text`,children:[(0,m.jsx)(i,{className:`w-16 h-16 mx-auto mb-4 text-border-color`}),(0,m.jsx)(`p`,{className:`text-base sm:text-lg font-bold mb-2`,children:`কোনো জমা পাওয়া যায়নি`})]}):(0,m.jsx)(`div`,{className:`grid grid-cols-1 gap-3 sm:gap-4 p-3 sm:p-4`,children:r.map(t=>(0,m.jsxs)(`button`,{onClick:()=>f(window.innerWidth<768,n,`/admin/submissions/${t.id}`),type:`button`,className:`bg-card p-3 sm:p-4 rounded-lg border border-border-color group cursor-pointer hover:bg-muted-bg transition-colors w-full text-left`,children:[(0,m.jsxs)(`div`,{className:`flex items-start justify-between mb-3`,children:[(0,m.jsxs)(`div`,{className:`flex items-center gap-3 min-w-0`,children:[(0,m.jsx)(`div`,{className:`w-10 h-10 rounded-lg bg-muted-bg flex items-center justify-center shrink-0 border border-border-color font-bold text-card-text text-xs`,children:t.file_path?`SUB`:`MSG`}),(0,m.jsxs)(`div`,{className:`truncate`,children:[(0,m.jsx)(e,{to:`/admin/articles/${t.article_id}/edit`,className:`font-bold text-sm truncate block hover:text-bbcRed`,children:c(t.title_en||t.title_bn||`Unknown Article`)}),(0,m.jsx)(`p`,{className:`text-xs text-muted-text truncate`,children:t.article_id})]})]}),(0,m.jsxs)(`div`,{className:`flex items-center gap-1 shrink-0 ml-2`,children:[t.file_path&&(0,m.jsx)(`a`,{href:t.file_path,target:`_blank`,rel:`noopener noreferrer`,className:`p-2 hover:bg-muted-bg rounded-lg`,children:(0,m.jsx)(o,{className:`w-4 h-4`})}),(0,m.jsx)(`button`,{type:`button`,onClick:()=>{window.confirm(`আপনি কি নিশ্চিত যে আপনি এই জমা মুছে ফেলতে চান?`)&&y(t.id)},className:`p-2 hover:bg-danger/10 text-danger rounded-lg`,children:(0,m.jsx)(s,{className:`w-4 h-4`})})]})]}),(0,m.jsx)(`div`,{className:`text-sm text-card-text max-h-12 overflow-hidden`,children:c(t.message||`-`)}),(0,m.jsx)(`div`,{className:`text-xs text-muted-text mt-2`,children:l(t.created_at,`bn`)})]},t.id))})})]})};export{h as default};