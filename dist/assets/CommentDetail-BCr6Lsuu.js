import{r as e}from"./rolldown-runtime-Ckerh37x.js";import{h as t,r as n,t as r,u as i}from"./vendor-react-BM5KEv9z.js";import{t as a}from"./vendor-BcXgp--U.js";import{P as o,mt as s}from"./vendor-ui-BPT_KSDl.js";import{_ as c,d as l,g as u,m as d,o as f}from"./index-DX3P2RFX.js";var p=e(t(),1),m=e(r(),1),h=()=>{let{commentId:e}=i(),t=e?parseInt(e,10):null,{language:r}=c(),[h,g]=(0,p.useState)(null),[_,v]=(0,p.useState)(!0);return(0,p.useEffect)(()=>{(async()=>{if(!t){v(!1);return}v(!0);try{let e=await f.getAllComments();if(e.success&&e.comments){let n=e.comments.find(e=>e.id===t);n?g(n):d(`Comment not found`,`error`)}}catch{d(u(`server_error`,r),`error`)}finally{v(!1)}})()},[t,r]),_?(0,m.jsx)(`div`,{className:`flex items-center justify-center h-screen`,children:(0,m.jsx)(o,{className:`w-8 h-8 animate-spin text-bbcRed`})}):h?(0,m.jsxs)(`div`,{className:`max-w-2xl mx-auto p-3 sm:p-4 md:p-6`,children:[(0,m.jsxs)(n,{to:`/admin/comments`,className:`flex items-center gap-2 text-bbcRed hover:opacity-80 mb-4 sm:mb-6 text-sm`,children:[(0,m.jsx)(s,{className:`w-4 sm:w-5 h-4 sm:h-5`}),u(`back`,r)]}),(0,m.jsxs)(`div`,{className:`bg-card rounded-xl border border-border-color p-4 sm:p-6 shadow-sm`,children:[(0,m.jsxs)(`div`,{className:`flex items-start gap-3 sm:gap-4 mb-4 sm:mb-6`,children:[(0,m.jsx)(`div`,{className:`w-10 sm:w-12 h-10 sm:h-12 rounded-full bg-gradient-to-br from-bbcRed to-orange-600 flex items-center justify-center text-white text-sm sm:text-lg font-bold flex-shrink-0`,children:h.user_name.charAt(0).toUpperCase()}),(0,m.jsxs)(`div`,{className:`min-w-0`,children:[(0,m.jsx)(`h1`,{className:`text-base sm:text-xl font-bold truncate`,children:h.user_name}),(0,m.jsx)(`p`,{className:`text-muted-text text-xs sm:text-sm`,children:l(h.created_at,r)})]})]}),(0,m.jsxs)(`div`,{className:`space-y-3 sm:space-y-4`,children:[(0,m.jsxs)(`div`,{children:[(0,m.jsx)(`div`,{className:`text-[10px] sm:text-xs font-bold text-muted-text uppercase`,children:u(`article`,r)}),(0,m.jsx)(n,{to:`/admin/articles/${h.article_id}/edit`,className:`text-bbcRed hover:opacity-80 text-xs sm:text-sm mt-1 block truncate`,children:r===`bn`?h.title_bn:h.title_en||`Unknown Article`})]}),(0,m.jsxs)(`div`,{children:[(0,m.jsx)(`div`,{className:`text-[10px] sm:text-xs font-bold text-muted-text uppercase`,children:u(`comment_text`,r)}),(0,m.jsx)(`div`,{className:`prose prose-sm dark:prose-invert mt-2 text-card-text`,children:(()=>{let e=a.sanitize(h.text),t=document.createElement(`div`);t.innerHTML=e;let n=e=>{if(e.nodeType===Node.TEXT_NODE)return e.textContent;if(e.nodeType===Node.ELEMENT_NODE){let t=e,r={};for(let e=0;e<t.attributes.length;e++){let n=t.attributes[e],i=n.name===`class`?`className`:n.name;r[i]=n.value}let i=Array.from(t.childNodes).map(n);return(0,p.createElement)(t.tagName.toLowerCase(),r,...i)}return null};return Array.from(t.childNodes).map((e,t)=>n(e))})()})]}),(0,m.jsxs)(`div`,{className:`text-xs text-muted-text pt-4 border-t border-border-color`,children:[u(`id`,r),`: `,h.id]})]})]})]}):(0,m.jsx)(`div`,{className:`flex items-center justify-center h-screen`,children:(0,m.jsx)(`p`,{className:`text-muted-text`,children:u(`invalid_comment`,r)})})};export{h as default};