import{h as e,r as t,v as ee}from"./vendor-react-DDJd_2jx.js";import{N as te,_ as ne,u as n,y as r}from"./vendor-ui-DkOs4DkR.js";import"./vendor-utils-DddD4xHt.js";import{_ as re,c as ie,g as i,n as a}from"./index-DAxriHVE.js";var ae=e(),o=ee(),s=t(),c=e=>{let t=(0,ae.c)(127),{isOpen:ee,onClose:te,onSave:ne,section:n,language:r}=e,re;t[0]===n?re=t[1]:(re=()=>n?{...n}:{id:``,title_bn:``,title_en:``,type:`grid`,sort_order:0},t[0]=n,t[1]=re);let[a,c]=(0,o.useState)(re),l;if(n){let e;t[2]===n?e=t[3]:(e={...n},t[2]=n,t[3]=e),l=e}else{let e;t[4]===Symbol.for(`react.memo_cache_sentinel`)?(e={id:``,title_bn:``,title_en:``,type:`grid`,sort_order:0},t[4]=e):e=t[4],l=e}let oe=l,se,u;t[5]===oe?(se=t[6],u=t[7]):(se=()=>{c(oe)},u=[oe],t[5]=oe,t[6]=se,t[7]=u),(0,o.useEffect)(se,u);let ce;t[8]!==a||t[9]!==ne?(ce=e=>{e.preventDefault(),ne(a)},t[8]=a,t[9]=ne,t[10]=ce):ce=t[10];let le=ce;if(!ee)return null;let d;t[11]!==r||t[12]!==n?.id?(d=n?.id?i(`edit_section`,r):i(`new_section`,r),t[11]=r,t[12]=n?.id,t[13]=d):d=t[13];let f;t[14]===d?f=t[15]:(f=(0,s.jsx)(`h2`,{className:`text-xl font-bold mb-4`,children:d}),t[14]=d,t[15]=f);let p;t[16]===r?p=t[17]:(p=i(`id_slug`,r),t[16]=r,t[17]=p);let m;t[18]===p?m=t[19]:(m=(0,s.jsx)(`label`,{htmlFor:`section-id`,className:`block text-sm font-bold mb-1`,children:p}),t[18]=p,t[19]=m);let ue=a.id||``,h;t[20]===a?h=t[21]:(h=e=>c({...a,id:e.target.value}),t[20]=a,t[21]=h);let de=!!n?.id,g;t[22]!==ue||t[23]!==h||t[24]!==de?(g=(0,s.jsx)(`input`,{id:`section-id`,name:`id`,value:ue,onChange:h,required:!0,readOnly:de,className:`w-full p-3 sm:p-2.5 rounded-lg border border-border-color bg-card focus:border-bbcRed outline-none text-sm sm:text-base`}),t[22]=ue,t[23]=h,t[24]=de,t[25]=g):g=t[25];let _;t[26]!==g||t[27]!==m?(_=(0,s.jsxs)(`div`,{children:[m,g]}),t[26]=g,t[27]=m,t[28]=_):_=t[28];let v;t[29]===r?v=t[30]:(v=i(`title_bangla`,r),t[29]=r,t[30]=v);let y;t[31]===v?y=t[32]:(y=(0,s.jsx)(`label`,{htmlFor:`section-title-bn`,className:`block text-sm font-bold mb-1`,children:v}),t[31]=v,t[32]=y);let fe=a.title_bn||``,b;t[33]===a?b=t[34]:(b=e=>c({...a,title_bn:e.target.value}),t[33]=a,t[34]=b);let x;t[35]!==fe||t[36]!==b?(x=(0,s.jsx)(`input`,{id:`section-title-bn`,name:`title_bn`,value:fe,onChange:b,required:!0,className:`w-full p-3 sm:p-2.5 rounded-lg border border-border-color bg-card focus:border-bbcRed outline-none font-hind text-sm sm:text-base`}),t[35]=fe,t[36]=b,t[37]=x):x=t[37];let S;t[38]!==y||t[39]!==x?(S=(0,s.jsxs)(`div`,{children:[y,x]}),t[38]=y,t[39]=x,t[40]=S):S=t[40];let C;t[41]===r?C=t[42]:(C=i(`title_english`,r),t[41]=r,t[42]=C);let w;t[43]===C?w=t[44]:(w=(0,s.jsx)(`label`,{htmlFor:`section-title-en`,className:`block text-sm font-bold mb-1`,children:C}),t[43]=C,t[44]=w);let pe=a.title_en||``,T;t[45]===a?T=t[46]:(T=e=>c({...a,title_en:e.target.value}),t[45]=a,t[46]=T);let E;t[47]!==pe||t[48]!==T?(E=(0,s.jsx)(`input`,{id:`section-title-en`,name:`title_en`,value:pe,onChange:T,required:!0,className:`w-full p-3 sm:p-2.5 rounded-lg border border-border-color bg-card focus:border-bbcRed outline-none font-hind text-sm sm:text-base`}),t[47]=pe,t[48]=T,t[49]=E):E=t[49];let D;t[50]!==w||t[51]!==E?(D=(0,s.jsxs)(`div`,{children:[w,E]}),t[50]=w,t[51]=E,t[52]=D):D=t[52];let me;t[53]===r?me=t[54]:(me=i(`type`,r),t[53]=r,t[54]=me);let O;t[55]===me?O=t[56]:(O=(0,s.jsx)(`label`,{htmlFor:`section-type`,className:`block text-sm font-bold mb-1`,children:me}),t[55]=me,t[56]=O);let he=a.type||`grid`,k;t[57]===a?k=t[58]:(k=e=>c({...a,type:e}),t[57]=a,t[58]=k);let A;t[59]===r?A=t[60]:(A=i(`hero`,r),t[59]=r,t[60]=A);let j;t[61]===A?j=t[62]:(j={value:`hero`,label:A},t[61]=A,t[62]=j);let M;t[63]===r?M=t[64]:(M=i(`grid`,r),t[63]=r,t[64]=M);let N;t[65]===M?N=t[66]:(N={value:`grid`,label:M},t[65]=M,t[66]=N);let P;t[67]===r?P=t[68]:(P=i(`list`,r),t[67]=r,t[68]=P);let F;t[69]===P?F=t[70]:(F={value:`list`,label:P},t[69]=P,t[70]=F);let I;t[71]===r?I=t[72]:(I=i(`carousel`,r),t[71]=r,t[72]=I);let L;t[73]===I?L=t[74]:(L={value:`carousel`,label:I},t[73]=I,t[74]=L);let R;t[75]===r?R=t[76]:(R=i(`highlight`,r),t[75]=r,t[76]=R);let z;t[77]===R?z=t[78]:(z={value:`highlight`,label:R},t[77]=R,t[78]=z);let B;t[79]!==j||t[80]!==N||t[81]!==F||t[82]!==L||t[83]!==z?(B=[j,N,F,L,z],t[79]=j,t[80]=N,t[81]=F,t[82]=L,t[83]=z,t[84]=B):B=t[84];let V;t[85]!==he||t[86]!==k||t[87]!==B?(V=(0,s.jsx)(ie,{id:`section-type`,value:he,onChange:k,options:B}),t[85]=he,t[86]=k,t[87]=B,t[88]=V):V=t[88];let H;t[89]!==O||t[90]!==V?(H=(0,s.jsxs)(`div`,{children:[O,V]}),t[89]=O,t[90]=V,t[91]=H):H=t[91];let U;t[92]===r?U=t[93]:(U=i(`sort_order`,r),t[92]=r,t[93]=U);let W;t[94]===U?W=t[95]:(W=(0,s.jsx)(`label`,{htmlFor:`section-sort-order`,className:`block text-sm font-bold mb-1`,children:U}),t[94]=U,t[95]=W);let ge=a.sort_order||0,G;t[96]===a?G=t[97]:(G=e=>c({...a,sort_order:parseInt(e.target.value,10)}),t[96]=a,t[97]=G);let K;t[98]!==ge||t[99]!==G?(K=(0,s.jsx)(`input`,{id:`section-sort-order`,type:`number`,name:`sort_order`,value:ge,onChange:G,className:`w-full p-3 sm:p-2.5 rounded-lg border border-border-color bg-card focus:border-bbcRed outline-none text-sm sm:text-base`}),t[98]=ge,t[99]=G,t[100]=K):K=t[100];let q;t[101]!==W||t[102]!==K?(q=(0,s.jsxs)(`div`,{children:[W,K]}),t[101]=W,t[102]=K,t[103]=q):q=t[103];let J;t[104]===r?J=t[105]:(J=i(`cancel`,r),t[104]=r,t[105]=J);let Y;t[106]!==te||t[107]!==J?(Y=(0,s.jsx)(`button`,{type:`button`,onClick:te,className:`px-4 py-2 text-sm font-bold text-muted-text hover:text-card-text hover:bg-muted-bg rounded-lg`,children:J}),t[106]=te,t[107]=J,t[108]=Y):Y=t[108];let X;t[109]===r?X=t[110]:(X=i(`save`,r),t[109]=r,t[110]=X);let Z;t[111]===X?Z=t[112]:(Z=(0,s.jsx)(`button`,{type:`submit`,className:`px-4 py-2 bg-bbcRed text-white rounded-lg font-bold text-sm hover:opacity-90 transition-opacity`,children:X}),t[111]=X,t[112]=Z);let Q;t[113]!==Y||t[114]!==Z?(Q=(0,s.jsxs)(`div`,{className:`flex justify-end gap-2 mt-6`,children:[Y,Z]}),t[113]=Y,t[114]=Z,t[115]=Q):Q=t[115];let $;t[116]!==le||t[117]!==_||t[118]!==S||t[119]!==D||t[120]!==H||t[121]!==q||t[122]!==Q?($=(0,s.jsxs)(`form`,{onSubmit:le,className:`space-y-4`,children:[_,S,D,H,q,Q]}),t[116]=le,t[117]=_,t[118]=S,t[119]=D,t[120]=H,t[121]=q,t[122]=Q,t[123]=$):$=t[123];let _e;return t[124]!==$||t[125]!==f?(_e=(0,s.jsx)(`div`,{className:`fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-[100]`,children:(0,s.jsxs)(`div`,{className:`bg-card w-full max-w-md p-6 rounded-xl shadow-2xl`,children:[f,$]})}),t[124]=$,t[125]=f,t[126]=_e):_e=t[126],_e},l=()=>{let{language:e}=re(),[t,ee]=(0,o.useState)([]),[ie,ae]=(0,o.useState)(!0),[l,oe]=(0,o.useState)(null),[se,u]=(0,o.useState)(!1),[ce,le]=(0,o.useState)(null),d=(0,o.useCallback)(async()=>{ae(!0);try{let e=await a.getSections();if(e.success&&e.data){let t=e.data;ee(t.sort((e,t)=>(e.sort_order||0)-(t.sort_order||0)))}else throw Error(e.message||`Failed to fetch sections`)}catch{oe(i(`failed_to_fetch_sections`,e))}finally{ae(!1)}},[e]);(0,o.useEffect)(()=>{d()},[d]);let f=(e=null)=>{le(e),u(!0)},p=()=>{u(!1),le(null)},m=async e=>{try{await a.saveSection(e),p(),d()}catch{}},ue=async t=>{if(window.confirm(i(`confirm_delete_section`,e)))try{await a.deleteSection(t),d()}catch{}};return(0,s.jsxs)(`div`,{children:[(0,s.jsx)(c,{isOpen:se,onClose:p,onSave:m,section:ce,language:e}),(0,s.jsxs)(`div`,{className:`flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-4 mb-4 sm:mb-6`,children:[(0,s.jsx)(`h1`,{className:`text-xl sm:text-2xl font-bold`,children:i(`manage_sections`,e)}),(0,s.jsxs)(`button`,{type:`button`,onClick:()=>f(),className:`bg-bbcRed text-white px-3 sm:px-4 py-2 rounded-lg font-bold text-sm sm:text-base flex items-center gap-2 whitespace-nowrap`,children:[(0,s.jsx)(ne,{className:`w-4 h-4`}),` `,i(`new_section`,e)]})]}),(0,s.jsx)(`div`,{className:`bg-card rounded-xl border border-border-color shadow-sm overflow-hidden`,children:ie?(0,s.jsx)(`div`,{className:`p-8 text-center text-muted-text`,children:i(`loading`,e)}):l?(0,s.jsx)(`div`,{className:`p-8 text-center text-danger`,children:l}):t.length===0?(0,s.jsxs)(`div`,{className:`p-8 text-center text-muted-text`,children:[(0,s.jsx)(te,{className:`w-16 h-16 mx-auto mb-4 text-border-color`}),(0,s.jsx)(`p`,{className:`text-lg font-bold mb-2`,children:i(`no_sections_found`,e)})]}):(0,s.jsx)(`div`,{className:`grid grid-cols-1 gap-4 p-4`,children:t.map(e=>(0,s.jsx)(`div`,{className:`bg-card p-4 rounded-lg border border-border-color group hover:bg-muted-bg transition-colors`,children:(0,s.jsxs)(`div`,{className:`flex items-start justify-between`,children:[(0,s.jsxs)(`div`,{className:`flex items-center gap-3 min-w-0`,children:[(0,s.jsx)(`div`,{className:`w-10 h-10 rounded-lg bg-muted-bg flex items-center justify-center text-card-text text-sm font-bold border border-border-color`,children:e.sort_order}),(0,s.jsxs)(`div`,{className:`truncate`,children:[(0,s.jsx)(`div`,{className:`font-bold text-sm truncate`,children:e.title_bn}),(0,s.jsx)(`div`,{className:`text-xs text-muted-text truncate`,children:e.title_en}),(0,s.jsx)(`div`,{className:`mt-1`,children:(0,s.jsx)(`span`,{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full bg-muted-bg text-card-text text-xs font-bold`,children:e.type})})]})]}),(0,s.jsx)(`div`,{className:`text-xs font-mono text-muted-text`,children:e.id}),(0,s.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,s.jsx)(`button`,{type:`button`,onClick:()=>f(e),className:`p-2 text-card-text hover:bg-muted-bg rounded`,children:(0,s.jsx)(r,{className:`w-4 h-4`})}),(0,s.jsx)(`button`,{type:`button`,onClick:()=>ue(e.id),className:`p-2 text-danger hover:bg-danger/10 rounded`,children:(0,s.jsx)(n,{className:`w-4 h-4`})})]})]})},e.id))})})]})};export{l as default};