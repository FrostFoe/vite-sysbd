import{r as e}from"./rolldown-runtime-Ckerh37x.js";import{G as t,I as n,M as r,N as i,P as a,T as o,W as s,_ as c,a as l,b as u,c as d,d as f,g as p,j as m,k as h,m as g,s as _,u as v,v as y,y as b}from"./component-Layout-lYLVnTc5.js";import{i as x}from"./component-admin-slhiRVFs.js";function S(e){"@babel/helpers - typeof";return S=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},S(e)}function C(e,t){if(S(e)!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(S(r)!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function w(e){var t=C(e,`string`);return S(t)==`symbol`?t:t+``}function T(e,t,n){return(t=w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=a(`arrow-right`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`m12 5 7 7-7 7`,key:`xquz4c`}]]),D=a(`bold`,[[`path`,{d:`M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8`,key:`mg9rjx`}]]),O=a(`bot`,[[`path`,{d:`M12 8V4H8`,key:`hb8ula`}],[`rect`,{width:`16`,height:`12`,x:`4`,y:`8`,rx:`2`,key:`enze0r`}],[`path`,{d:`M2 14h2`,key:`vft8re`}],[`path`,{d:`M20 14h2`,key:`4cs60a`}],[`path`,{d:`M15 13v2`,key:`1xurst`}],[`path`,{d:`M9 13v2`,key:`rq6x2g`}]]),k=a(`check`,[[`path`,{d:`M20 6 9 17l-5-5`,key:`1gmf2c`}]]),A=a(`chevron-down`,[[`path`,{d:`m6 9 6 6 6-6`,key:`qrunsl`}]]),j=a(`clock`,[[`path`,{d:`M12 6v6l4 2`,key:`mmk7yg`}],[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),M=a(`eye-off`,[[`path`,{d:`M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49`,key:`ct8e1f`}],[`path`,{d:`M14.084 14.158a3 3 0 0 1-4.242-4.242`,key:`151rxh`}],[`path`,{d:`M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143`,key:`13bj9a`}],[`path`,{d:`m2 2 20 20`,key:`1ooewy`}]]),N=a(`eye`,[[`path`,{d:`M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0`,key:`1nclc0`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),P=a(`globe`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20`,key:`13o1zl`}],[`path`,{d:`M2 12h20`,key:`9i4pu4`}]]),F=a(`image`,[[`rect`,{width:`18`,height:`18`,x:`3`,y:`3`,rx:`2`,ry:`2`,key:`1m3agn`}],[`circle`,{cx:`9`,cy:`9`,r:`2`,key:`af1f0g`}],[`path`,{d:`m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21`,key:`1xmnt7`}]]),I=a(`italic`,[[`line`,{x1:`19`,x2:`10`,y1:`4`,y2:`4`,key:`15jd3p`}],[`line`,{x1:`14`,x2:`5`,y1:`20`,y2:`20`,key:`bu0au3`}],[`line`,{x1:`15`,x2:`9`,y1:`4`,y2:`20`,key:`uljnxc`}]]),L=a(`list-ordered`,[[`path`,{d:`M11 5h10`,key:`1cz7ny`}],[`path`,{d:`M11 12h10`,key:`1438ji`}],[`path`,{d:`M11 19h10`,key:`11t30w`}],[`path`,{d:`M4 4h1v5`,key:`10yrso`}],[`path`,{d:`M4 9h2`,key:`r1h2o0`}],[`path`,{d:`M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02`,key:`xtkcd5`}]]),R=a(`list`,[[`path`,{d:`M3 5h.01`,key:`18ugdj`}],[`path`,{d:`M3 12h.01`,key:`nlz23k`}],[`path`,{d:`M3 19h.01`,key:`noohij`}],[`path`,{d:`M8 5h13`,key:`1pao27`}],[`path`,{d:`M8 12h13`,key:`1za7za`}],[`path`,{d:`M8 19h13`,key:`m83p4d`}]]),z=a(`maximize`,[[`path`,{d:`M8 3H5a2 2 0 0 0-2 2v3`,key:`1dcmit`}],[`path`,{d:`M21 8V5a2 2 0 0 0-2-2h-3`,key:`1e4gt3`}],[`path`,{d:`M3 16v3a2 2 0 0 0 2 2h3`,key:`wsl5sc`}],[`path`,{d:`M16 21h3a2 2 0 0 0 2-2v-3`,key:`18trek`}]]),B=a(`message-square-quote`,[[`path`,{d:`M14 14a2 2 0 0 0 2-2V8h-2`,key:`1r06pg`}],[`path`,{d:`M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z`,key:`18887p`}],[`path`,{d:`M8 14a2 2 0 0 0 2-2V8H8`,key:`1jzu5j`}]]),V=a(`palette`,[[`path`,{d:`M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z`,key:`e79jfc`}],[`circle`,{cx:`13.5`,cy:`6.5`,r:`.5`,fill:`currentColor`,key:`1okk4w`}],[`circle`,{cx:`17.5`,cy:`10.5`,r:`.5`,fill:`currentColor`,key:`f64h9f`}],[`circle`,{cx:`6.5`,cy:`12.5`,r:`.5`,fill:`currentColor`,key:`qy21gx`}],[`circle`,{cx:`8.5`,cy:`7.5`,r:`.5`,fill:`currentColor`,key:`fotxhn`}]]),H=a(`pause`,[[`rect`,{x:`14`,y:`3`,width:`5`,height:`18`,rx:`1`,key:`kaeet6`}],[`rect`,{x:`5`,y:`3`,width:`5`,height:`18`,rx:`1`,key:`1wsw3u`}]]),U=a(`play`,[[`path`,{d:`M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z`,key:`10ikf1`}]]),W=a(`square`,[[`rect`,{width:`18`,height:`18`,x:`3`,y:`3`,rx:`2`,key:`afitv7`}]]),G=a(`video`,[[`path`,{d:`m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5`,key:`ftymec`}],[`rect`,{x:`2`,y:`6`,width:`14`,height:`12`,rx:`2`,key:`158x01`}]]),K=a(`volume-2`,[[`path`,{d:`M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z`,key:`uqj9uw`}],[`path`,{d:`M16 9a5 5 0 0 1 0 6`,key:`1q6k2b`}],[`path`,{d:`M19.364 18.364a9 9 0 0 0 0-12.728`,key:`ijwkga`}]]),ee=a(`volume-x`,[[`path`,{d:`M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z`,key:`uqj9uw`}],[`line`,{x1:`22`,x2:`16`,y1:`9`,y2:`15`,key:`1ewh16`}],[`line`,{x1:`16`,x2:`22`,y1:`9`,y2:`15`,key:`5ykzw1`}]]),te=s(),q=e(t(),1),J=e(c(),1),Y=q.memo(e=>{let t=(0,te.c)(56),{article:a,type:o,isSectionDark:s,onBookmarkToggle:c,isBookmarked:l}=e,{language:u,theme:f}=p(),m=f===`dark`||s,h=s?`text-white`:`text-card-text`,_=s?`text-white/70`:`text-muted-text`,v=s?`text-white/60`:`text-muted-text`,y=l?m?`white`:`black`:`none`,b;t[0]!==a.published_at||t[1]!==u?(b=d(a.published_at,u),t[0]=a.published_at,t[1]=u,t[2]=b):b=t[2];let x=b,S=`group cursor-pointer flex flex-col ${o===`hero-grid`?`h-auto`:`h-full`} relative bg-card-elevated rounded-2xl overflow-hidden shadow-soft hover:shadow-soft-hover transition-all duration-300 hover:-translate-y-1 border border-border-color animate-in fade-in slide-in-from-bottom-4 duration-500`,C=`/article/${a.id}`,w=`overflow-hidden ${o===`hero-grid`?`aspect-[16/10]`:`aspect-video`} relative`,T=a.image||`https://placehold.co/600x400/1a1a1a/FFF?text=BreachTimes`,E;t[3]!==a.title||t[4]!==T?(E=(0,J.jsx)(`img`,{src:T,alt:a.title,loading:`lazy`,className:`w-full h-full object-cover transition-transform duration-700 group-hover:scale-105`}),t[3]=a.title,t[4]=T,t[5]=E):E=t[5];let D;t[6]!==a.id||t[7]!==c?(D=e=>{e.preventDefault(),e.stopPropagation(),c(a.id)},t[6]=a.id,t[7]=c,t[8]=D):D=t[8];let O;t[9]===y?O=t[10]:(O=(0,J.jsx)(i,{className:`w-4 h-4`,fill:y}),t[9]=y,t[10]=O);let k;t[11]!==D||t[12]!==O?(k=(0,J.jsx)(`div`,{className:`absolute top-0 right-0 p-3 opacity-0 group-hover:opacity-100 transition-opacity z-10`,children:(0,J.jsx)(`button`,{type:`button`,onClick:D,className:`bg-white/90 dark:bg-black/50 backdrop-blur p-2.5 rounded-full hover:bg-white dark:hover:bg-black/70 text-card-text shadow-md z-10 hover:scale-110 active:scale-95 transition-all`,children:O})}),t[11]=D,t[12]=O,t[13]=k):k=t[13];let A;t[14]===Symbol.for(`react.memo_cache_sentinel`)?(A=(0,J.jsx)(`div`,{className:`absolute bottom-0 left-0 right-0 h-1/3 bg-gradient-to-t from-black/50 to-transparent opacity-60`}),t[14]=A):A=t[14];let M;t[15]!==w||t[16]!==E||t[17]!==k?(M=(0,J.jsxs)(`div`,{className:w,children:[E,k,A]}),t[15]=w,t[16]=E,t[17]=k,t[18]=M):M=t[18];let N;t[19]===a.category?N=t[20]:(N=(0,J.jsx)(`span`,{className:`text-[9px] sm:text-[10px] font-bold uppercase tracking-wider text-bbcRed bg-danger/10 dark:bg-danger/20 px-2 py-0.5 rounded`,children:a.category}),t[19]=a.category,t[20]=N);let P;t[21]===x?P=t[22]:(P=(0,J.jsxs)(`span`,{className:`text-[9px] sm:text-[10px] text-muted-text`,children:[`‚Ä¢ `,x]}),t[21]=x,t[22]=P);let F;t[23]!==N||t[24]!==P?(F=(0,J.jsxs)(`div`,{className:`mb-2 flex items-center gap-2`,children:[N,P]}),t[23]=N,t[24]=P,t[25]=F):F=t[25];let I=`text-base sm:text-lg md:text-xl font-bold mb-2 sm:mb-3 leading-tight group-hover:text-bbcRed transition-colors ${h}`,L;t[26]!==a.title||t[27]!==I?(L=(0,J.jsx)(`h3`,{className:I,children:a.title}),t[26]=a.title,t[27]=I,t[28]=L):L=t[28];let R;t[29]!==a.summary||t[30]!==_||t[31]!==o?(R=(o===`hero-grid`||o===`grid`)&&a.summary&&(0,J.jsx)(`p`,{className:`${_} text-xs sm:text-sm leading-relaxed mb-3 sm:mb-4 line-clamp-3`,children:a.summary}),t[29]=a.summary,t[30]=_,t[31]=o,t[32]=R):R=t[32];let z=`mt-auto pt-2 sm:pt-3 border-t border-border-color flex items-center justify-between text-[10px] sm:text-xs ${v}`,B;t[33]===u?B=t[34]:(B=g(`read_more`,u),t[33]=u,t[34]=B);let V;t[35]===Symbol.for(`react.memo_cache_sentinel`)?(V=(0,J.jsx)(r,{className:`w-3 h-3`}),t[35]=V):V=t[35];let H;t[36]===B?H=t[37]:(H=(0,J.jsxs)(`span`,{className:`flex items-center gap-1 group-hover:translate-x-1 transition-transform`,children:[B,` `,V]}),t[36]=B,t[37]=H);let U;t[38]===a.readTime?U=t[39]:(U=a.readTime&&(0,J.jsxs)(`span`,{className:`flex items-center gap-1`,children:[(0,J.jsx)(j,{className:`w-3 h-3`}),` `,a.readTime]}),t[38]=a.readTime,t[39]=U);let W;t[40]!==z||t[41]!==H||t[42]!==U?(W=(0,J.jsxs)(`div`,{className:z,children:[H,U]}),t[40]=z,t[41]=H,t[42]=U,t[43]=W):W=t[43];let G;t[44]!==F||t[45]!==L||t[46]!==R||t[47]!==W?(G=(0,J.jsxs)(`div`,{className:`flex flex-col flex-grow p-3 sm:p-4 md:p-5`,children:[F,L,R,W]}),t[44]=F,t[45]=L,t[46]=R,t[47]=W,t[48]=G):G=t[48];let K;t[49]!==M||t[50]!==G||t[51]!==C?(K=(0,J.jsxs)(n,{to:C,onClick:ne,children:[M,G]}),t[49]=M,t[50]=G,t[51]=C,t[52]=K):K=t[52];let ee;return t[53]!==S||t[54]!==K?(ee=(0,J.jsx)(`article`,{className:S,children:K}),t[53]=S,t[54]=K,t[55]=ee):ee=t[55],ee});function ne(){return window.scrollTo({top:0,behavior:`smooth`})}s();var re=s();const X=e=>{let t=(0,re.c)(34),{value:n,onChange:r,options:i,placeholder:a,className:o,disabled:s,id:c}=e,l=a===void 0?`Select an option`:a,u=o===void 0?``:o,d=s===void 0?!1:s,[f,p]=(0,q.useState)(!1),m=(0,q.useRef)(null),h,g;t[0]===f?(h=t[1],g=t[2]):(h=()=>{let e=e=>{m.current&&!m.current.contains(e.target)&&p(!1)};return f&&document.addEventListener(`mousedown`,e),()=>{document.removeEventListener(`mousedown`,e)}},g=[f],t[0]=f,t[1]=h,t[2]=g),(0,q.useEffect)(h,g);let _;if(t[3]!==i||t[4]!==n){let e;t[6]===n?e=t[7]:(e=e=>e.value===n,t[6]=n,t[7]=e),_=i.find(e),t[3]=i,t[4]=n,t[5]=_}else _=t[5];let v=_,y=v?v.label:l,b;t[8]===r?b=t[9]:(b=e=>{r(e),p(!1)},t[8]=r,t[9]=b);let x=b,S=`custom-dropdown-wrapper ${u}`,C;t[10]!==d||t[11]!==f?(C=()=>!d&&p(!f),t[10]=d,t[11]=f,t[12]=C):C=t[12];let w=`custom-dropdown-button ${f?`open`:``} ${d?`opacity-50 cursor-not-allowed`:``}`,T=`${n?``:`custom-dropdown-item placeholder`}`,E;t[13]!==y||t[14]!==T?(E=(0,J.jsx)(`span`,{className:T,children:y}),t[13]=y,t[14]=T,t[15]=E):E=t[15];let D;t[16]===Symbol.for(`react.memo_cache_sentinel`)?(D=(0,J.jsx)(A,{className:`custom-dropdown-icon`}),t[16]=D):D=t[16];let O;t[17]!==d||t[18]!==w||t[19]!==E||t[20]!==C?(O=(0,J.jsxs)(`button`,{type:`button`,onClick:C,disabled:d,className:w,children:[E,D]}),t[17]=d,t[18]=w,t[19]=E,t[20]=C,t[21]=O):O=t[21];let k=`custom-dropdown-menu ${f?`open`:``}`,j;t[22]!==x||t[23]!==i||t[24]!==n?(j=i.length===0?(0,J.jsx)(`div`,{className:`px-3 py-2 text-sm text-muted-text`,children:`No options available`}):i.map(e=>(0,J.jsx)(`button`,{type:`button`,onClick:()=>x(e.value),className:`custom-dropdown-item w-full text-left ${n===e.value?`selected`:``}`,children:e.label},e.value)),t[22]=x,t[23]=i,t[24]=n,t[25]=j):j=t[25];let M;t[26]!==k||t[27]!==j?(M=(0,J.jsx)(`div`,{className:k,children:j}),t[26]=k,t[27]=j,t[28]=M):M=t[28];let N;return t[29]!==c||t[30]!==O||t[31]!==M||t[32]!==S?(N=(0,J.jsxs)(`div`,{ref:m,className:S,id:c,children:[O,M]}),t[29]=c,t[30]=O,t[31]=M,t[32]=S,t[33]=N):N=t[33],N};var ie=({value:e,onChange:t,height:n=`400px`,className:r=``})=>{let i=(0,q.useRef)(null),[a,o]=(0,q.useState)(``),[s,c]=(0,q.useState)(!1);(0,q.useEffect)(()=>{i.current&&!s&&(i.current.innerHTML=e||``,c(!0))},[s,e]);let u=e=>{t(e.currentTarget.innerHTML)},d=(e,t)=>{document.execCommand(e,!1,t),i.current&&i.current.focus()},f=(0,q.useCallback)(async e=>{try{if(o(``),!e.type.startsWith(`image/`))throw Error(`‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡ßà‡¶ß ‡¶õ‡¶¨‡¶ø ‡¶´‡¶æ‡¶á‡¶≤ ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®`);if(e.size>10*1024*1024)throw Error(`‡¶õ‡¶¨‡¶ø‡¶∞ ‡¶Ü‡¶ï‡¶æ‡¶∞ 10MB ‡¶è‡¶∞ ‡¶ö‡ßá‡¶Ø‡¶º‡ßá ‡¶ï‡¶Æ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá`);let t=new FormData;t.append(`image`,e);let n=await l.uploadImage(t);if(!n.success)throw Error(n.error||`‡¶õ‡¶¨‡¶ø ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•`);return n.url}catch(e){return o(e instanceof Error?e.message:`‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá`),null}},[]),p=(0,q.useCallback)(async e=>{try{if(o(``),!e.type.startsWith(`video/`))throw Error(`‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡ßà‡¶ß ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶´‡¶æ‡¶á‡¶≤ ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®`);if(e.size>100*1024*1024)throw Error(`‡¶≠‡¶ø‡¶°‡¶ø‡¶ì‡¶∞ ‡¶Ü‡¶ï‡¶æ‡¶∞ 100MB ‡¶è‡¶∞ ‡¶ö‡ßá‡¶Ø‡¶º‡ßá ‡¶ï‡¶Æ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá`);let t=new FormData;t.append(`video`,e);let n=await l.uploadVideo(t);if(!n.success||!n.url)throw Error(n.error||`‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•`);return n.url}catch(e){return o(e instanceof Error?e.message:`‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá`),null}},[]),h=(0,q.useCallback)(()=>{let e=document.createElement(`input`);e.type=`file`,e.accept=`image/*`,e.onchange=e=>{let t=e.target.files?.[0];t&&f(t).then(e=>{if(e){let t=`<img src="${e}" />`;document.execCommand(`insertHTML`,!1,t)}})},e.click()},[f]),g=(0,q.useCallback)(()=>{let e=document.createElement(`input`);e.type=`file`,e.accept=`video/*`,e.onchange=e=>{let t=e.target.files?.[0];t&&p(t).then(e=>{if(e){let t=`<video controls src="${e}"></video>`;document.execCommand(`insertHTML`,!1,t)}})},e.click()},[p]),_=(0,q.useCallback)(e=>{e.preventDefault(),e.stopPropagation();let t=e.dataTransfer.files;if(t&&t.length>0){let e=t[0];e.type.startsWith(`image/`)?f(e).then(e=>{if(e){let t=`<img src="${e}" />`;document.execCommand(`insertHTML`,!1,t)}}):e.type.startsWith(`video/`)&&p(e).then(e=>{if(e){let t=`<video controls src="${e}"></video>`;document.execCommand(`insertHTML`,!1,t)}})}},[f,p]);return(0,J.jsxs)(`div`,{className:`flex flex-col gap-3 ${r}`,children:[(0,J.jsxs)(`div`,{className:`flex flex-wrap gap-2 items-center p-3 bg-muted-bg rounded-lg border border-border-color`,children:[(0,J.jsx)(`button`,{type:`button`,onClick:()=>d(`bold`),className:`p-2 rounded hover:bg-hover-bg transition-colors text-muted-text hover:text-card-text`,title:`Bold (Ctrl+B)`,"aria-label":`Bold`,children:(0,J.jsx)(D,{size:18})}),(0,J.jsx)(`button`,{type:`button`,onClick:()=>d(`italic`),className:`p-2 rounded hover:bg-hover-bg transition-colors text-muted-text hover:text-card-text`,title:`Italic (Ctrl+I)`,"aria-label":`Italic`,children:(0,J.jsx)(I,{size:18})}),(0,J.jsx)(`div`,{className:`w-px h-6 bg-border-color`}),(0,J.jsx)(`button`,{type:`button`,onClick:()=>d(`insertUnorderedList`),className:`p-2 rounded hover:bg-hover-bg transition-colors text-muted-text hover:text-card-text`,title:`Bullet List`,"aria-label":`Bullet List`,children:(0,J.jsx)(R,{size:18})}),(0,J.jsx)(`button`,{type:`button`,onClick:()=>d(`insertOrderedList`),className:`p-2 rounded hover:bg-hover-bg transition-colors text-muted-text hover:text-card-text`,title:`Ordered List`,"aria-label":`Ordered List`,children:(0,J.jsx)(L,{size:18})}),(0,J.jsx)(`div`,{className:`w-px h-6 bg-border-color`}),(0,J.jsx)(`button`,{type:`button`,onClick:h,className:`p-2 rounded hover:bg-hover-bg transition-colors text-muted-text hover:text-card-text`,title:`Insert Image`,"aria-label":`Insert Image`,children:(0,J.jsx)(F,{size:18})}),(0,J.jsx)(`button`,{type:`button`,onClick:g,className:`p-2 rounded hover:bg-hover-bg transition-colors text-muted-text hover:text-card-text`,title:`Insert Video`,"aria-label":`Insert Video`,children:(0,J.jsx)(G,{size:18})}),(0,J.jsx)(`div`,{className:`w-px h-6 bg-border-color`}),(0,J.jsx)(`button`,{type:`button`,onClick:()=>d(`undo`),className:`p-2 rounded hover:bg-hover-bg transition-colors text-muted-text hover:text-card-text`,title:`Undo`,"aria-label":`Undo`,children:`‚Ü∂`}),(0,J.jsx)(`button`,{type:`button`,onClick:()=>d(`redo`),className:`p-2 rounded hover:bg-hover-bg transition-colors text-muted-text hover:text-card-text`,title:`Redo`,"aria-label":`Redo`,children:`‚Ü∑`})]}),(0,J.jsx)(`div`,{ref:i,contentEditable:!0,role:`textbox`,tabIndex:0,onInput:u,suppressContentEditableWarning:!0,style:{height:n,minHeight:n},className:`relative p-4 bg-card border border-border-color rounded-lg overflow-y-auto focus:outline-none focus:ring-2 focus:ring-bbcRed focus:border-transparent`,onDrop:_,onDragOver:e=>{e.preventDefault(),e.stopPropagation()}}),a&&(0,J.jsxs)(`div`,{className:`flex items-center gap-2 p-3 bg-danger/10 border border-danger/30 rounded-lg text-danger animate-in fade-in duration-300`,children:[(0,J.jsx)(m,{size:18,className:`flex-shrink-0`}),(0,J.jsx)(`span`,{className:`text-sm`,children:a})]})]})},ae=class extends q.Component{constructor(e){super(e),T(this,`reloadTimer`,null),T(this,`countdownInterval`,null),this.state={hasError:!1,error:null,errorInfo:null,autoReloadCountdown:5}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null,autoReloadCountdown:5}}componentDidCatch(e,t){console.error(`Error caught by boundary:`,e,t),this.setState({hasError:!0,error:e,errorInfo:t,autoReloadCountdown:5}),this.reloadTimer=setTimeout(()=>{console.log(`Auto-reloading due to error...`),window.location.reload()},5e3),this.countdownInterval=setInterval(()=>{this.setState(e=>({autoReloadCountdown:Math.max(0,e.autoReloadCountdown-1)}))},1e3)}componentWillUnmount(){this.reloadTimer&&clearTimeout(this.reloadTimer),this.countdownInterval&&clearInterval(this.countdownInterval)}render(){return this.state.hasError?this.props.fallback||(0,J.jsx)(`div`,{className:`min-h-screen bg-card flex items-center justify-center p-4`,children:(0,J.jsx)(`div`,{className:`max-w-md w-full`,children:(0,J.jsxs)(`div`,{className:`bg-danger/10 dark:bg-danger/20 border border-danger/30 dark:border-danger/50 rounded-lg p-6`,children:[(0,J.jsxs)(`div`,{className:`flex items-center gap-3 mb-4`,children:[(0,J.jsx)(b,{className:`w-6 h-6 text-danger`}),(0,J.jsx)(`h1`,{className:`text-lg font-bold text-danger`,children:`Something went wrong`})]}),(0,J.jsx)(`p`,{className:`text-sm text-card-text mb-4`,children:`We're sorry for the inconvenience. The application encountered an unexpected error.`}),(0,J.jsx)(`div`,{className:`bg-bbcRed/10 border border-bbcRed/30 rounded p-3 mb-4`,children:(0,J.jsxs)(`p`,{className:`text-xs text-bbcRed font-semibold`,children:[`üîÑ Auto-reloading in `,this.state.autoReloadCountdown,` `,`seconds...`]})}),!1,(0,J.jsx)(`button`,{type:`button`,onClick:()=>window.location.reload(),className:`mt-4 w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors`,children:`Reload Page`})]})})}):this.props.children}};s();var oe=s(),se={sm:`w-6 h-6`,md:`w-10 h-10`,lg:`w-16 h-16`};const ce=e=>{let t=(0,oe.c)(10),{size:n,message:r,fullScreen:i}=e,a=n===void 0?`md`:n,o=i===void 0?!1:i,s=`${se[a]} animate-spin text-bbcRed`,c;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(c=(0,J.jsxs)(`svg`,{className:`w-full h-full text-primary`,xmlns:`http://www.w3.org/2000/svg`,fill:`none`,viewBox:`0 0 24 24`,role:`img`,"aria-label":`Loading spinner`,children:[(0,J.jsx)(`title`,{children:`Loading spinner`}),(0,J.jsx)(`circle`,{className:`opacity-25`,cx:`12`,cy:`12`,r:`10`,stroke:`currentColor`,strokeWidth:`4`}),(0,J.jsx)(`path`,{className:`opacity-75`,fill:`currentColor`,d:`M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z`})]}),t[0]=c):c=t[0];let l;t[1]===s?l=t[2]:(l=(0,J.jsx)(`div`,{className:s,children:c}),t[1]=s,t[2]=l);let u;t[3]===r?u=t[4]:(u=r&&(0,J.jsx)(`p`,{className:`text-muted-text`,children:r}),t[3]=r,t[4]=u);let d;t[5]!==l||t[6]!==u?(d=(0,J.jsxs)(`div`,{className:`flex flex-col items-center justify-center gap-4 animate-in fade-in duration-300`,children:[l,u]}),t[5]=l,t[6]=u,t[7]=d):d=t[7];let f=d;if(o){let e;return t[8]===f?e=t[9]:(e=(0,J.jsx)(`div`,{className:`fixed inset-0 flex items-center justify-center bg-black/50 z-50`,children:f}),t[8]=f,t[9]=e),e}return f};s();var le=s();const ue=e=>{let t=(0,le.c)(2),{children:n}=e,r;return t[0]===n?r=t[1]:(r=(0,J.jsx)(`div`,{className:`animate-in fade-in slide-in-from-bottom-4 duration-500`,children:n}),t[0]=n,t[1]=r),r};var de=s();const fe=e=>{let t=(0,de.c)(16),{currentArticle:i,allArticles:a}=e,o;if(t[0]!==a||t[1]!==i){let e;t[3]===i?e=t[4]:(e=e=>e.id===i.id||e.status!==`published`?!1:e.category_id===i.category_id||e.section_id===i.section_id,t[3]=i,t[4]=e),o=a.filter(e).slice(0,4),t[0]=a,t[1]=i,t[2]=o}else o=t[2];let s=o;if(s.length===0)return null;let c;t[5]===Symbol.for(`react.memo_cache_sentinel`)?(c=(0,J.jsxs)(`div`,{className:`flex items-center gap-3 mb-6`,children:[(0,J.jsx)(`div`,{className:`w-1 h-8 bg-bbcRed rounded-full`}),(0,J.jsx)(`h3`,{className:`text-xl sm:text-2xl font-bold`,children:`‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡¶ø‡¶§ ‡¶®‡¶ø‡¶¨‡¶®‡ßç‡¶ß`})]}),t[5]=c):c=t[5];let l;t[6]===s?l=t[7]:(l=s.map(pe),t[6]=s,t[7]=l);let u;t[8]===l?u=t[9]:(u=(0,J.jsx)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4`,children:l}),t[8]=l,t[9]=u);let d=i.category_id?`/?category=${i.category_id}`:`/`,f;t[10]===Symbol.for(`react.memo_cache_sentinel`)?(f=(0,J.jsx)(r,{className:`w-4 h-4 group-hover:translate-x-1 transition-transform`}),t[10]=f):f=t[10];let p;t[11]===d?p=t[12]:(p=(0,J.jsxs)(n,{to:d,className:`inline-flex items-center gap-2 mt-6 px-6 py-3 rounded-lg bg-card border border-border-color hover:bg-muted-bg transition-colors font-bold text-sm group`,children:[`‡¶Ü‡¶∞‡¶ì ‡¶®‡¶ø‡¶¨‡¶®‡ßç‡¶ß ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®`,f]}),t[11]=d,t[12]=p);let m;return t[13]!==u||t[14]!==p?(m=(0,J.jsxs)(`section`,{className:`mt-12 mb-8`,children:[c,u,p]}),t[13]=u,t[14]=p,t[15]=m):m=t[15],m};function pe(e){return(0,J.jsxs)(n,{to:`/article/${e.id}`,className:`bg-card rounded-lg border border-border-color overflow-hidden hover:shadow-lg transition-all group`,children:[(0,J.jsx)(`div`,{className:`aspect-video bg-muted-bg overflow-hidden`,children:(0,J.jsx)(`img`,{src:v(e.image)||`https://placehold.co/600x400/1a1a1a/FFF?text=BreachTimes`,alt:e.title,className:`w-full h-full object-cover group-hover:scale-105 transition-transform`})}),(0,J.jsxs)(`div`,{className:`p-3`,children:[(0,J.jsx)(`h4`,{className:`font-bold text-sm line-clamp-2 group-hover:text-bbcRed transition-colors`,children:e.title}),e.readTime&&(0,J.jsxs)(`div`,{className:`flex items-center gap-1 text-xs text-muted-text mt-2`,children:[(0,J.jsx)(j,{className:`w-3 h-3`}),e.readTime]})]})]},e.id)}const me=({children:e,fallback:t=(0,J.jsx)(ce,{fullScreen:!0})})=>(0,J.jsx)(q.Suspense,{fallback:t,children:(0,J.jsx)(ue,{children:e})});var he=s();const ge=e=>{let t=(0,he.c)(6),{isLoading:n,children:r,message:i,size:a,fullScreen:o}=e,s=a===void 0?`md`:a,c=o===void 0?!1:o;if(n){let e;return t[0]!==c||t[1]!==i||t[2]!==s?(e=(0,J.jsx)(ce,{size:s,message:i,fullScreen:c}),t[0]=c,t[1]=i,t[2]=s,t[3]=e):e=t[3],e}let l;return t[4]===r?l=t[5]:(l=(0,J.jsx)(J.Fragment,{children:r}),t[4]=r,t[5]=l),l},_e=e=>{let t=(0,he.c)(15),{isEmpty:n,children:r,icon:i,title:a,description:o,action:s}=e;if(n){let e;t[0]===i?e=t[1]:(e=i&&(0,J.jsx)(`div`,{className:`mb-4 text-muted-text`,children:i}),t[0]=i,t[1]=e);let n;t[2]===a?n=t[3]:(n=(0,J.jsx)(`h3`,{className:`text-lg font-semibold text-card-text mb-2`,children:a}),t[2]=a,t[3]=n);let r;t[4]===o?r=t[5]:(r=o&&(0,J.jsx)(`p`,{className:`text-muted-text text-sm mb-4`,children:o}),t[4]=o,t[5]=r);let c;t[6]===s?c=t[7]:(c=s&&(0,J.jsx)(`div`,{className:`mt-4`,children:s}),t[6]=s,t[7]=c);let l;return t[8]!==e||t[9]!==n||t[10]!==r||t[11]!==c?(l=(0,J.jsxs)(`div`,{className:`flex flex-col items-center justify-center py-12 px-4 text-center`,children:[e,n,r,c]}),t[8]=e,t[9]=n,t[10]=r,t[11]=c,t[12]=l):l=t[12],l}let c;return t[13]===r?c=t[14]:(c=(0,J.jsx)(J.Fragment,{children:r}),t[13]=r,t[14]=c),c},ve=({text:e,onTranslate:t,currentLang:n=`bn`,disabled:r=!1})=>{let[i,a]=(0,q.useState)(!1),[s,c]=(0,q.useState)(null),[u,d]=(0,q.useState)(null),[f,p]=(0,q.useState)(!1),[m,g]=(0,q.useState)(!1),_=n===`bn`?`en`:`bn`,v={bn:`‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ`,en:`English`},y={bn:`Bengali`,en:`English`};return(0,J.jsxs)(`div`,{className:`space-y-3 mt-4 p-4 bg-muted-bg border border-border-color rounded-xl shadow-soft`,children:[(0,J.jsxs)(`div`,{className:`flex items-start gap-2 pb-3`,children:[(0,J.jsx)(o,{className:`w-4 h-4 text-tech flex-shrink-0 mt-0.5`}),(0,J.jsxs)(`p`,{className:`text-xs text-muted-text leading-relaxed`,children:[(0,J.jsx)(`span`,{className:`font-semibold text-card-text`,children:`‡¶ü‡¶ø‡¶™:`}),` ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶≤‡ßá‡¶ñ‡¶æ‡¶ü‡¶ø ‡¶∏‡ßç‡¶¨‡¶Ø‡¶º‡¶Ç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶≠‡¶æ‡¶¨‡ßá `,y[_],` ‡¶è ‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶¨‡ßá ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶Æ‡¶∏‡ßç‡¶§ ‡¶õ‡¶¨‡¶ø ‡¶ì ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§ ‡¶•‡¶æ‡¶ï‡¶¨‡ßá‡•§`]})]}),(0,J.jsx)(`button`,{onClick:async()=>{if(!e.trim()){c(`‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶™‡¶æ‡¶†‡ßç‡¶Ø ‡¶™‡ßç‡¶∞‡¶¨‡ßá‡¶∂ ‡¶ï‡¶∞‡ßÅ‡¶®`);return}a(!0),c(null),d(null);try{let t=await l.translateText(e,n,_);t.success&&t.translation?(d(t.translation),g(!0)):c(t.error||`‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶ ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§`)}catch(e){c(e instanceof Error?e.message:`‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ö‡¶™‡ßç‡¶∞‡¶§‡ßç‡¶Ø‡¶æ‡¶∂‡¶ø‡¶§ ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø ‡¶ò‡¶ü‡ßá‡¶õ‡ßá`)}finally{a(!1)}},disabled:r||i||!e.trim(),className:`w-full flex items-center justify-center gap-2 px-4 py-3 bg-tech hover:bg-tech/90 text-white rounded-lg transition-all duration-200 disabled:opacity-40 disabled:cursor-not-allowed font-semibold text-sm shadow-soft hover:shadow-soft-hover`,children:i?(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(x,{className:`w-4 h-4 animate-spin`}),(0,J.jsx)(`span`,{children:`‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶ ‡¶ï‡¶∞‡¶õ‡¶ø...`})]}):(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(P,{className:`w-4 h-4`}),(0,J.jsx)(`span`,{children:v[n]}),(0,J.jsx)(E,{className:`w-3 h-3`}),(0,J.jsx)(`span`,{children:v[_]})]})}),s&&(0,J.jsxs)(`div`,{className:`p-3 bg-danger/10 border border-danger rounded-lg text-danger text-sm flex items-start gap-2`,children:[(0,J.jsx)(`span`,{className:`text-lg flex-shrink-0`,children:`‚ö†Ô∏è`}),(0,J.jsxs)(`div`,{children:[(0,J.jsx)(`p`,{className:`font-medium`,children:`‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶ ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•`}),(0,J.jsx)(`p`,{className:`text-xs mt-1`,children:s})]})]}),u&&m&&(0,J.jsxs)(`div`,{className:`space-y-3 pt-2 border-t border-border-color`,children:[(0,J.jsxs)(`div`,{className:`space-y-2`,children:[(0,J.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,J.jsxs)(`p`,{className:`text-xs font-bold text-muted-text uppercase tracking-wider`,children:[`‚úì ‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶ ‡¶∏‡¶´‡¶≤ (`,y[_],`)`]}),(0,J.jsx)(`span`,{className:`text-xs bg-success/20 text-success px-2 py-1 rounded-full font-medium`,children:`‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡ßÅ‡¶§`})]}),(0,J.jsx)(`div`,{className:`max-h-48 overflow-y-auto p-3 bg-card border border-border-color rounded-lg`,children:(0,J.jsx)(`p`,{className:`text-sm text-card-text leading-relaxed break-words`,children:u})})]}),(0,J.jsxs)(`div`,{className:`flex flex-col sm:flex-row gap-2`,children:[(0,J.jsxs)(`button`,{onClick:()=>{if(u){let e=u;if(e.includes(`<`)){let t=document.createElement(`div`);t.innerHTML=e,e=t.textContent||t.innerText||e}t(e.trim(),_),d(null),g(!1)}},className:`flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-success hover:bg-success/90 text-white rounded-lg transition-all duration-200 font-medium text-sm shadow-soft hover:shadow-soft-hover`,children:[(0,J.jsx)(k,{className:`w-4 h-4`}),`‡¶è‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®`]}),(0,J.jsx)(`button`,{onClick:()=>{u&&(navigator.clipboard.writeText(u),p(!0),setTimeout(()=>p(!1),2e3))},className:`flex items-center justify-center gap-2 px-4 py-2.5 bg-border-color hover:bg-border-color/80 text-card-text rounded-lg transition-all duration-200 font-medium text-sm`,children:f?(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(k,{className:`w-4 h-4 text-success`}),(0,J.jsx)(`span`,{className:`text-success`,children:`‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá`})]}):(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(h,{className:`w-4 h-4`}),`‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®`]})})]}),(0,J.jsxs)(`div`,{className:`text-xs text-muted-text p-2 bg-muted-bg rounded italic border border-border-color`,children:[`üí° "‡¶è‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®" ‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡¶≤‡ßá ‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶‡¶ü‡¶ø ‡¶∏‡ßç‡¶¨‡¶Ø‡¶º‡¶Ç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶≠‡¶æ‡¶¨‡ßá `,v[_],` ‡¶ï‡ßç‡¶∑‡ßá‡¶§‡ßç‡¶∞‡ßá ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡¶¨‡ßá‡•§`]})]})]})};var{entries:ye,setPrototypeOf:be,isFrozen:xe,getPrototypeOf:Se,getOwnPropertyDescriptor:Ce}=Object,{freeze:we,seal:Te,create:Ee}=Object,{apply:De,construct:Oe}=typeof Reflect<`u`&&Reflect;we||(we=function(e){return e}),Te||(Te=function(e){return e}),De||(De=function(e,t){var n=[...arguments].slice(2);return e.apply(t,n)}),Oe||(Oe=function(e){return new e(...[...arguments].slice(1))});var ke=Z(Array.prototype.forEach),Ae=Z(Array.prototype.lastIndexOf),je=Z(Array.prototype.pop),Me=Z(Array.prototype.push),Ne=Z(Array.prototype.splice),Pe=Z(String.prototype.toLowerCase),Fe=Z(String.prototype.toString),Ie=Z(String.prototype.match),Le=Z(String.prototype.replace),Re=Z(String.prototype.indexOf),ze=Z(String.prototype.trim),Be=Z(Object.prototype.hasOwnProperty),Ve=Z(RegExp.prototype.test),He=Ue(TypeError);function Z(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);var n=[...arguments].slice(1);return De(e,t,n)}}function Ue(e){return function(){return Oe(e,[...arguments])}}function Q(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pe;be&&be(e,null);let r=t.length;for(;r--;){let i=t[r];if(typeof i==`string`){let e=n(i);e!==i&&(xe(t)||(t[r]=e),i=e)}e[i]=!0}return e}function We(e){for(let t=0;t<e.length;t++)Be(e,t)||(e[t]=null);return e}function Ge(e){let t=Ee(null);for(let[n,r]of ye(e))Be(e,n)&&(Array.isArray(r)?t[n]=We(r):r&&typeof r==`object`&&r.constructor===Object?t[n]=Ge(r):t[n]=r);return t}function Ke(e,t){for(;e!==null;){let n=Ce(e,t);if(n){if(n.get)return Z(n.get);if(typeof n.value==`function`)return Z(n.value)}e=Se(e)}function n(){return null}return n}var qe=we(`a.abbr.acronym.address.area.article.aside.audio.b.bdi.bdo.big.blink.blockquote.body.br.button.canvas.caption.center.cite.code.col.colgroup.content.data.datalist.dd.decorator.del.details.dfn.dialog.dir.div.dl.dt.element.em.fieldset.figcaption.figure.font.footer.form.h1.h2.h3.h4.h5.h6.head.header.hgroup.hr.html.i.img.input.ins.kbd.label.legend.li.main.map.mark.marquee.menu.menuitem.meter.nav.nobr.ol.optgroup.option.output.p.picture.pre.progress.q.rp.rt.ruby.s.samp.search.section.select.shadow.slot.small.source.spacer.span.strike.strong.style.sub.summary.sup.table.tbody.td.template.textarea.tfoot.th.thead.time.tr.track.tt.u.ul.var.video.wbr`.split(`.`)),Je=we(`svg.a.altglyph.altglyphdef.altglyphitem.animatecolor.animatemotion.animatetransform.circle.clippath.defs.desc.ellipse.enterkeyhint.exportparts.filter.font.g.glyph.glyphref.hkern.image.inputmode.line.lineargradient.marker.mask.metadata.mpath.part.path.pattern.polygon.polyline.radialgradient.rect.stop.style.switch.symbol.text.textpath.title.tref.tspan.view.vkern`.split(`.`)),Ye=we([`feBlend`,`feColorMatrix`,`feComponentTransfer`,`feComposite`,`feConvolveMatrix`,`feDiffuseLighting`,`feDisplacementMap`,`feDistantLight`,`feDropShadow`,`feFlood`,`feFuncA`,`feFuncB`,`feFuncG`,`feFuncR`,`feGaussianBlur`,`feImage`,`feMerge`,`feMergeNode`,`feMorphology`,`feOffset`,`fePointLight`,`feSpecularLighting`,`feSpotLight`,`feTile`,`feTurbulence`]),Xe=we([`animate`,`color-profile`,`cursor`,`discard`,`font-face`,`font-face-format`,`font-face-name`,`font-face-src`,`font-face-uri`,`foreignobject`,`hatch`,`hatchpath`,`mesh`,`meshgradient`,`meshpatch`,`meshrow`,`missing-glyph`,`script`,`set`,`solidcolor`,`unknown`,`use`]),Ze=we(`math.menclose.merror.mfenced.mfrac.mglyph.mi.mlabeledtr.mmultiscripts.mn.mo.mover.mpadded.mphantom.mroot.mrow.ms.mspace.msqrt.mstyle.msub.msup.msubsup.mtable.mtd.mtext.mtr.munder.munderover.mprescripts`.split(`.`)),Qe=we([`maction`,`maligngroup`,`malignmark`,`mlongdiv`,`mscarries`,`mscarry`,`msgroup`,`mstack`,`msline`,`msrow`,`semantics`,`annotation`,`annotation-xml`,`mprescripts`,`none`]),$e=we([`#text`]),et=we(`accept.action.align.alt.autocapitalize.autocomplete.autopictureinpicture.autoplay.background.bgcolor.border.capture.cellpadding.cellspacing.checked.cite.class.clear.color.cols.colspan.controls.controlslist.coords.crossorigin.datetime.decoding.default.dir.disabled.disablepictureinpicture.disableremoteplayback.download.draggable.enctype.enterkeyhint.exportparts.face.for.headers.height.hidden.high.href.hreflang.id.inert.inputmode.integrity.ismap.kind.label.lang.list.loading.loop.low.max.maxlength.media.method.min.minlength.multiple.muted.name.nonce.noshade.novalidate.nowrap.open.optimum.part.pattern.placeholder.playsinline.popover.popovertarget.popovertargetaction.poster.preload.pubdate.radiogroup.readonly.rel.required.rev.reversed.role.rows.rowspan.spellcheck.scope.selected.shape.size.sizes.slot.span.srclang.start.src.srcset.step.style.summary.tabindex.title.translate.type.usemap.valign.value.width.wrap.xmlns.slot`.split(`.`)),tt=we(`accent-height.accumulate.additive.alignment-baseline.amplitude.ascent.attributename.attributetype.azimuth.basefrequency.baseline-shift.begin.bias.by.class.clip.clippathunits.clip-path.clip-rule.color.color-interpolation.color-interpolation-filters.color-profile.color-rendering.cx.cy.d.dx.dy.diffuseconstant.direction.display.divisor.dur.edgemode.elevation.end.exponent.fill.fill-opacity.fill-rule.filter.filterunits.flood-color.flood-opacity.font-family.font-size.font-size-adjust.font-stretch.font-style.font-variant.font-weight.fx.fy.g1.g2.glyph-name.glyphref.gradientunits.gradienttransform.height.href.id.image-rendering.in.in2.intercept.k.k1.k2.k3.k4.kerning.keypoints.keysplines.keytimes.lang.lengthadjust.letter-spacing.kernelmatrix.kernelunitlength.lighting-color.local.marker-end.marker-mid.marker-start.markerheight.markerunits.markerwidth.maskcontentunits.maskunits.max.mask.mask-type.media.method.mode.min.name.numoctaves.offset.operator.opacity.order.orient.orientation.origin.overflow.paint-order.path.pathlength.patterncontentunits.patterntransform.patternunits.points.preservealpha.preserveaspectratio.primitiveunits.r.rx.ry.radius.refx.refy.repeatcount.repeatdur.restart.result.rotate.scale.seed.shape-rendering.slope.specularconstant.specularexponent.spreadmethod.startoffset.stddeviation.stitchtiles.stop-color.stop-opacity.stroke-dasharray.stroke-dashoffset.stroke-linecap.stroke-linejoin.stroke-miterlimit.stroke-opacity.stroke.stroke-width.style.surfacescale.systemlanguage.tabindex.tablevalues.targetx.targety.transform.transform-origin.text-anchor.text-decoration.text-rendering.textlength.type.u1.u2.unicode.values.viewbox.visibility.version.vert-adv-y.vert-origin-x.vert-origin-y.width.word-spacing.wrap.writing-mode.xchannelselector.ychannelselector.x.x1.x2.xmlns.y.y1.y2.z.zoomandpan`.split(`.`)),nt=we(`accent.accentunder.align.bevelled.close.columnsalign.columnlines.columnspan.denomalign.depth.dir.display.displaystyle.encoding.fence.frame.height.href.id.largeop.length.linethickness.lspace.lquote.mathbackground.mathcolor.mathsize.mathvariant.maxsize.minsize.movablelimits.notation.numalign.open.rowalign.rowlines.rowspacing.rowspan.rspace.rquote.scriptlevel.scriptminsize.scriptsizemultiplier.selection.separator.separators.stretchy.subscriptshift.supscriptshift.symmetric.voffset.width.xmlns`.split(`.`)),rt=we([`xlink:href`,`xml:id`,`xlink:title`,`xml:space`,`xmlns:xlink`]),$=Te(/\{\{[\w\W]*|[\w\W]*\}\}/gm),it=Te(/<%[\w\W]*|[\w\W]*%>/gm),at=Te(/\$\{[\w\W]*/gm),ot=Te(/^data-[\-\w.\u00B7-\uFFFF]+$/),st=Te(/^aria-[\-\w]+$/),ct=Te(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),lt=Te(/^(?:\w+script|data):/i),ut=Te(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),dt=Te(/^html$/i),ft=Te(/^[a-z][.\w]*(-[.\w]+)+$/i),pt=Object.freeze({__proto__:null,ARIA_ATTR:st,ATTR_WHITESPACE:ut,CUSTOM_ELEMENT:ft,DATA_ATTR:ot,DOCTYPE_NAME:dt,ERB_EXPR:it,IS_ALLOWED_URI:ct,IS_SCRIPT_OR_DATA:lt,MUSTACHE_EXPR:$,TMPLIT_EXPR:at}),mt={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},ht=function(){return typeof window>`u`?null:window},gt=function(e,t){if(typeof e!=`object`||typeof e.createPolicy!=`function`)return null;let n=null,r=`data-tt-policy-suffix`;t&&t.hasAttribute(r)&&(n=t.getAttribute(r));let i=`dompurify`+(n?`#`+n:``);try{return e.createPolicy(i,{createHTML(e){return e},createScriptURL(e){return e}})}catch{return console.warn(`TrustedTypes policy `+i+` could not be created.`),null}},_t=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function vt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ht(),t=e=>vt(e);if(t.version=`3.3.1`,t.removed=[],!e||!e.document||e.document.nodeType!==mt.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e,r=n,i=r.currentScript,{DocumentFragment:a,HTMLTemplateElement:o,Node:s,Element:c,NodeFilter:l,NamedNodeMap:u=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:d,DOMParser:f,trustedTypes:p}=e,m=c.prototype,h=Ke(m,`cloneNode`),g=Ke(m,`remove`),_=Ke(m,`nextSibling`),v=Ke(m,`childNodes`),y=Ke(m,`parentNode`);if(typeof o==`function`){let e=n.createElement(`template`);e.content&&e.content.ownerDocument&&(n=e.content.ownerDocument)}let b,x=``,{implementation:S,createNodeIterator:C,createDocumentFragment:w,getElementsByTagName:T}=n,{importNode:E}=r,D=_t();t.isSupported=typeof ye==`function`&&typeof y==`function`&&S&&S.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:O,ERB_EXPR:k,TMPLIT_EXPR:A,DATA_ATTR:j,ARIA_ATTR:M,IS_SCRIPT_OR_DATA:N,ATTR_WHITESPACE:P,CUSTOM_ELEMENT:F}=pt,{IS_ALLOWED_URI:I}=pt,L=null,R=Q({},[...qe,...Je,...Ye,...Ze,...$e]),z=null,B=Q({},[...et,...tt,...nt,...rt]),V=Object.seal(Ee(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),H=null,U=null,W=Object.seal(Ee(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}})),G=!0,K=!0,ee=!1,te=!0,q=!1,J=!0,Y=!1,ne=!1,re=!1,X=!1,ie=!1,ae=!1,oe=!0,se=!1,ce=!0,le=!1,ue={},de=null,fe=Q({},[`annotation-xml`,`audio`,`colgroup`,`desc`,`foreignobject`,`head`,`iframe`,`math`,`mi`,`mn`,`mo`,`ms`,`mtext`,`noembed`,`noframes`,`noscript`,`plaintext`,`script`,`style`,`svg`,`template`,`thead`,`title`,`video`,`xmp`]),pe=null,me=Q({},[`audio`,`video`,`img`,`source`,`image`,`track`]),he=null,ge=Q({},[`alt`,`class`,`for`,`id`,`label`,`name`,`pattern`,`placeholder`,`role`,`summary`,`title`,`value`,`style`,`xmlns`]),_e=`http://www.w3.org/1998/Math/MathML`,ve=`http://www.w3.org/2000/svg`,be=`http://www.w3.org/1999/xhtml`,xe=be,Se=!1,Ce=null,Te=Q({},[_e,ve,be],Fe),De=Q({},[`mi`,`mo`,`mn`,`ms`,`mtext`]),Oe=Q({},[`annotation-xml`]),Z=Q({},[`title`,`style`,`font`,`a`,`script`]),Ue=null,We=[`application/xhtml+xml`,`text/html`],$=null,it=null,at=n.createElement(`form`),ot=function(e){return e instanceof RegExp||e instanceof Function},st=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(it&&it===e)){if((!e||typeof e!=`object`)&&(e={}),e=Ge(e),Ue=We.indexOf(e.PARSER_MEDIA_TYPE)===-1?`text/html`:e.PARSER_MEDIA_TYPE,$=Ue===`application/xhtml+xml`?Fe:Pe,L=Be(e,`ALLOWED_TAGS`)?Q({},e.ALLOWED_TAGS,$):R,z=Be(e,`ALLOWED_ATTR`)?Q({},e.ALLOWED_ATTR,$):B,Ce=Be(e,`ALLOWED_NAMESPACES`)?Q({},e.ALLOWED_NAMESPACES,Fe):Te,he=Be(e,`ADD_URI_SAFE_ATTR`)?Q(Ge(ge),e.ADD_URI_SAFE_ATTR,$):ge,pe=Be(e,`ADD_DATA_URI_TAGS`)?Q(Ge(me),e.ADD_DATA_URI_TAGS,$):me,de=Be(e,`FORBID_CONTENTS`)?Q({},e.FORBID_CONTENTS,$):fe,H=Be(e,`FORBID_TAGS`)?Q({},e.FORBID_TAGS,$):Ge({}),U=Be(e,`FORBID_ATTR`)?Q({},e.FORBID_ATTR,$):Ge({}),ue=Be(e,`USE_PROFILES`)?e.USE_PROFILES:!1,G=e.ALLOW_ARIA_ATTR!==!1,K=e.ALLOW_DATA_ATTR!==!1,ee=e.ALLOW_UNKNOWN_PROTOCOLS||!1,te=e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,q=e.SAFE_FOR_TEMPLATES||!1,J=e.SAFE_FOR_XML!==!1,Y=e.WHOLE_DOCUMENT||!1,X=e.RETURN_DOM||!1,ie=e.RETURN_DOM_FRAGMENT||!1,ae=e.RETURN_TRUSTED_TYPE||!1,re=e.FORCE_BODY||!1,oe=e.SANITIZE_DOM!==!1,se=e.SANITIZE_NAMED_PROPS||!1,ce=e.KEEP_CONTENT!==!1,le=e.IN_PLACE||!1,I=e.ALLOWED_URI_REGEXP||ct,xe=e.NAMESPACE||be,De=e.MATHML_TEXT_INTEGRATION_POINTS||De,Oe=e.HTML_INTEGRATION_POINTS||Oe,V=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ot(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(V.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ot(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(V.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==`boolean`&&(V.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),q&&(K=!1),ie&&(X=!0),ue&&(L=Q({},$e),z=[],ue.html===!0&&(Q(L,qe),Q(z,et)),ue.svg===!0&&(Q(L,Je),Q(z,tt),Q(z,rt)),ue.svgFilters===!0&&(Q(L,Ye),Q(z,tt),Q(z,rt)),ue.mathMl===!0&&(Q(L,Ze),Q(z,nt),Q(z,rt))),e.ADD_TAGS&&(typeof e.ADD_TAGS==`function`?W.tagCheck=e.ADD_TAGS:(L===R&&(L=Ge(L)),Q(L,e.ADD_TAGS,$))),e.ADD_ATTR&&(typeof e.ADD_ATTR==`function`?W.attributeCheck=e.ADD_ATTR:(z===B&&(z=Ge(z)),Q(z,e.ADD_ATTR,$))),e.ADD_URI_SAFE_ATTR&&Q(he,e.ADD_URI_SAFE_ATTR,$),e.FORBID_CONTENTS&&(de===fe&&(de=Ge(de)),Q(de,e.FORBID_CONTENTS,$)),e.ADD_FORBID_CONTENTS&&(de===fe&&(de=Ge(de)),Q(de,e.ADD_FORBID_CONTENTS,$)),ce&&(L[`#text`]=!0),Y&&Q(L,[`html`,`head`,`body`]),L.table&&(Q(L,[`tbody`]),delete H.tbody),e.TRUSTED_TYPES_POLICY){if(typeof e.TRUSTED_TYPES_POLICY.createHTML!=`function`)throw He(`TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.`);if(typeof e.TRUSTED_TYPES_POLICY.createScriptURL!=`function`)throw He(`TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.`);b=e.TRUSTED_TYPES_POLICY,x=b.createHTML(``)}else b===void 0&&(b=gt(p,i)),b!==null&&typeof x==`string`&&(x=b.createHTML(``));we&&we(e),it=e}},lt=Q({},[...Je,...Ye,...Xe]),ut=Q({},[...Ze,...Qe]),ft=function(e){let t=y(e);(!t||!t.tagName)&&(t={namespaceURI:xe,tagName:`template`});let n=Pe(e.tagName),r=Pe(t.tagName);return Ce[e.namespaceURI]?e.namespaceURI===ve?t.namespaceURI===be?n===`svg`:t.namespaceURI===_e?n===`svg`&&(r===`annotation-xml`||De[r]):!!lt[n]:e.namespaceURI===_e?t.namespaceURI===be?n===`math`:t.namespaceURI===ve?n===`math`&&Oe[r]:!!ut[n]:e.namespaceURI===be?t.namespaceURI===ve&&!Oe[r]||t.namespaceURI===_e&&!De[r]?!1:!ut[n]&&(Z[n]||!lt[n]):!!(Ue===`application/xhtml+xml`&&Ce[e.namespaceURI]):!1},yt=function(e){Me(t.removed,{element:e});try{y(e).removeChild(e)}catch{g(e)}},bt=function(e,n){try{Me(t.removed,{attribute:n.getAttributeNode(e),from:n})}catch{Me(t.removed,{attribute:null,from:n})}if(n.removeAttribute(e),e===`is`)if(X||ie)try{yt(n)}catch{}else try{n.setAttribute(e,``)}catch{}},xt=function(e){let t=null,r=null;if(re)e=`<remove></remove>`+e;else{let t=Ie(e,/^[\r\n\t ]+/);r=t&&t[0]}Ue===`application/xhtml+xml`&&xe===be&&(e=`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>`+e+`</body></html>`);let i=b?b.createHTML(e):e;if(xe===be)try{t=new f().parseFromString(i,Ue)}catch{}if(!t||!t.documentElement){t=S.createDocument(xe,`template`,null);try{t.documentElement.innerHTML=Se?x:i}catch{}}let a=t.body||t.documentElement;return e&&r&&a.insertBefore(n.createTextNode(r),a.childNodes[0]||null),xe===be?T.call(t,Y?`html`:`body`)[0]:Y?t.documentElement:a},St=function(e){return C.call(e.ownerDocument||e,e,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null)},Ct=function(e){return e instanceof d&&(typeof e.nodeName!=`string`||typeof e.textContent!=`string`||typeof e.removeChild!=`function`||!(e.attributes instanceof u)||typeof e.removeAttribute!=`function`||typeof e.setAttribute!=`function`||typeof e.namespaceURI!=`string`||typeof e.insertBefore!=`function`||typeof e.hasChildNodes!=`function`)},wt=function(e){return typeof s==`function`&&e instanceof s};function Tt(e,n,r){ke(e,e=>{e.call(t,n,r,it)})}let Et=function(e){let n=null;if(Tt(D.beforeSanitizeElements,e,null),Ct(e))return yt(e),!0;let r=$(e.nodeName);if(Tt(D.uponSanitizeElement,e,{tagName:r,allowedTags:L}),J&&e.hasChildNodes()&&!wt(e.firstElementChild)&&Ve(/<[/\w!]/g,e.innerHTML)&&Ve(/<[/\w!]/g,e.textContent)||e.nodeType===mt.progressingInstruction||J&&e.nodeType===mt.comment&&Ve(/<[/\w]/g,e.data))return yt(e),!0;if(!(W.tagCheck instanceof Function&&W.tagCheck(r))&&(!L[r]||H[r])){if(!H[r]&&Ot(r)&&(V.tagNameCheck instanceof RegExp&&Ve(V.tagNameCheck,r)||V.tagNameCheck instanceof Function&&V.tagNameCheck(r)))return!1;if(ce&&!de[r]){let t=y(e)||e.parentNode,n=v(e)||e.childNodes;if(n&&t){let r=n.length;for(let i=r-1;i>=0;--i){let r=h(n[i],!0);r.__removalCount=(e.__removalCount||0)+1,t.insertBefore(r,_(e))}}}return yt(e),!0}return e instanceof c&&!ft(e)||(r===`noscript`||r===`noembed`||r===`noframes`)&&Ve(/<\/no(script|embed|frames)/i,e.innerHTML)?(yt(e),!0):(q&&e.nodeType===mt.text&&(n=e.textContent,ke([O,k,A],e=>{n=Le(n,e,` `)}),e.textContent!==n&&(Me(t.removed,{element:e.cloneNode()}),e.textContent=n)),Tt(D.afterSanitizeElements,e,null),!1)},Dt=function(e,t,r){if(oe&&(t===`id`||t===`name`)&&(r in n||r in at))return!1;if(!(K&&!U[t]&&Ve(j,t))&&!(G&&Ve(M,t))&&!(W.attributeCheck instanceof Function&&W.attributeCheck(t,e))){if(!z[t]||U[t]){if(!(Ot(e)&&(V.tagNameCheck instanceof RegExp&&Ve(V.tagNameCheck,e)||V.tagNameCheck instanceof Function&&V.tagNameCheck(e))&&(V.attributeNameCheck instanceof RegExp&&Ve(V.attributeNameCheck,t)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(t,e))||t===`is`&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&Ve(V.tagNameCheck,r)||V.tagNameCheck instanceof Function&&V.tagNameCheck(r))))return!1}else if(!he[t]&&!Ve(I,Le(r,P,``))&&!((t===`src`||t===`xlink:href`||t===`href`)&&e!==`script`&&Re(r,`data:`)===0&&pe[e])&&!(ee&&!Ve(N,Le(r,P,``)))&&r)return!1}return!0},Ot=function(e){return e!==`annotation-xml`&&Ie(e,F)},kt=function(e){Tt(D.beforeSanitizeAttributes,e,null);let{attributes:n}=e;if(!n||Ct(e))return;let r={attrName:``,attrValue:``,keepAttr:!0,allowedAttributes:z,forceKeepAttr:void 0},i=n.length;for(;i--;){let{name:a,namespaceURI:o,value:s}=n[i],c=$(a),l=s,u=a===`value`?l:ze(l);if(r.attrName=c,r.attrValue=u,r.keepAttr=!0,r.forceKeepAttr=void 0,Tt(D.uponSanitizeAttribute,e,r),u=r.attrValue,se&&(c===`id`||c===`name`)&&(bt(a,e),u=`user-content-`+u),J&&Ve(/((--!?|])>)|<\/(style|title|textarea)/i,u)){bt(a,e);continue}if(c===`attributename`&&Ie(u,`href`)){bt(a,e);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr){bt(a,e);continue}if(!te&&Ve(/\/>/i,u)){bt(a,e);continue}q&&ke([O,k,A],e=>{u=Le(u,e,` `)});let d=$(e.nodeName);if(!Dt(d,c,u)){bt(a,e);continue}if(b&&typeof p==`object`&&typeof p.getAttributeType==`function`&&!o)switch(p.getAttributeType(d,c)){case`TrustedHTML`:u=b.createHTML(u);break;case`TrustedScriptURL`:u=b.createScriptURL(u);break}if(u!==l)try{o?e.setAttributeNS(o,a,u):e.setAttribute(a,u),Ct(e)?yt(e):je(t.removed)}catch{bt(a,e)}}Tt(D.afterSanitizeAttributes,e,null)},At=function e(t){let n=null,r=St(t);for(Tt(D.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)Tt(D.uponSanitizeShadowNode,n,null),Et(n),kt(n),n.content instanceof a&&e(n.content);Tt(D.afterSanitizeShadowDOM,t,null)};return t.sanitize=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=null,o=null,c=null,l=null;if(Se=!e,Se&&(e=`<!-->`),typeof e!=`string`&&!wt(e))if(typeof e.toString==`function`){if(e=e.toString(),typeof e!=`string`)throw He(`dirty is not a string, aborting`)}else throw He(`toString is not a function`);if(!t.isSupported)return e;if(ne||st(n),t.removed=[],typeof e==`string`&&(le=!1),le){if(e.nodeName){let t=$(e.nodeName);if(!L[t]||H[t])throw He(`root node is forbidden and cannot be sanitized in-place`)}}else if(e instanceof s)i=xt(`<!---->`),o=i.ownerDocument.importNode(e,!0),o.nodeType===mt.element&&o.nodeName===`BODY`||o.nodeName===`HTML`?i=o:i.appendChild(o);else{if(!X&&!q&&!Y&&e.indexOf(`<`)===-1)return b&&ae?b.createHTML(e):e;if(i=xt(e),!i)return X?null:ae?x:``}i&&re&&yt(i.firstChild);let u=St(le?e:i);for(;c=u.nextNode();)Et(c),kt(c),c.content instanceof a&&At(c.content);if(le)return e;if(X){if(ie)for(l=w.call(i.ownerDocument);i.firstChild;)l.appendChild(i.firstChild);else l=i;return(z.shadowroot||z.shadowrootmode)&&(l=E.call(r,l,!0)),l}let d=Y?i.outerHTML:i.innerHTML;return Y&&L[`!doctype`]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&Ve(dt,i.ownerDocument.doctype.name)&&(d=`<!DOCTYPE `+i.ownerDocument.doctype.name+`>
`+d),q&&ke([O,k,A],e=>{d=Le(d,e,` `)}),b&&ae?b.createHTML(d):d},t.setConfig=function(){st(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),ne=!0},t.clearConfig=function(){it=null,ne=!1},t.isValidAttribute=function(e,t,n){return it||st({}),Dt($(e),$(t),n)},t.addHook=function(e,t){typeof t==`function`&&Me(D[e],t)},t.removeHook=function(e,t){if(t!==void 0){let n=Ae(D[e],t);return n===-1?void 0:Ne(D[e],n,1)[0]}return je(D[e])},t.removeHooks=function(e){D[e]=[]},t.removeAllHooks=function(){D=_t()},t}var yt=vt(),bt=s(),xt=e=>{let t=(0,bt.c)(36),{src:n,alt:r,title:i,className:a,width:o,height:s,caption:c,showCaption:l,priority:u}=e,d=r===void 0?``:r,f=a===void 0?``:a,p=l===void 0?!0:l,m=u===void 0?!1:u,[h,g]=(0,q.useState)(!0),[_,y]=(0,q.useState)(!1),[b,x]=(0,q.useState)(!0),[S,C]=(0,q.useState)(m),w=(0,q.useRef)(null),T=v(n),E,D;t[0]===m?(E=t[1],D=t[2]):(E=()=>{if(m){C(!0);return}let e=new IntersectionObserver(t=>{let[n]=t;n.isIntersecting&&(C(!0),w.current&&e.unobserve(w.current))},{root:null,rootMargin:`100px`,threshold:.01});return w.current&&e.observe(w.current),()=>{w.current&&e.unobserve(w.current)}},D=[m],t[0]=m,t[1]=E,t[2]=D),(0,q.useEffect)(E,D);let O;t[3]===Symbol.for(`react.memo_cache_sentinel`)?(O=()=>{g(!1)},t[3]=O):O=t[3];let k=O,A;t[4]===Symbol.for(`react.memo_cache_sentinel`)?(A=()=>{g(!1),y(!0)},t[4]=A):A=t[4];let j=A,P;t[5]===b?P=t[6]:(P=()=>{x(!b)},t[5]=b,t[6]=P);let F=P;if(!b){let e=`relative w-full bg-muted-bg border border-border-color rounded-lg flex items-center justify-center cursor-pointer ${f}`,n;t[7]===F?n=t[8]:(n=e=>{(e.key===`Enter`||e.key===` `)&&F()},t[7]=F,t[8]=n);let r=b?`Hide image`:`Show image`,i;t[9]===Symbol.for(`react.memo_cache_sentinel`)?(i=(0,J.jsxs)(`div`,{className:`text-center p-4`,children:[(0,J.jsx)(M,{className:`w-8 h-8 mx-auto text-muted-text`}),(0,J.jsx)(`p`,{className:`mt-2 text-sm text-muted-text`,children:`Image hidden`}),(0,J.jsx)(`p`,{className:`text-xs text-muted-text`,children:`Click to show`})]}),t[9]=i):i=t[9];let a;return t[10]!==e||t[11]!==n||t[12]!==r||t[13]!==F?(a=(0,J.jsx)(`button`,{type:`button`,className:e,onClick:F,onKeyDown:n,"aria-label":r,children:i}),t[10]=e,t[11]=n,t[12]=r,t[13]=F,t[14]=a):a=t[14],a}if(_){let e,n;return t[15]===Symbol.for(`react.memo_cache_sentinel`)?(e=(0,J.jsx)(`div`,{className:`bg-muted-bg border-2 border-dashed border-border-color rounded-xl w-16 h-16 mx-auto`}),n=(0,J.jsx)(`p`,{className:`mt-2 text-sm text-muted-text`,children:`Image failed to load`}),t[15]=e,t[16]=n):(e=t[15],n=t[16]),(0,J.jsx)(`div`,{className:`relative w-full bg-muted-bg border border-border-color rounded-lg flex items-center justify-center ${f}`,children:(0,J.jsxs)(`div`,{className:`text-center p-4`,children:[e,n,(0,J.jsx)(`p`,{className:`text-xs text-muted-text`,children:T})]})})}let I=`relative ${f}`,L;t[17]===h?L=t[18]:(L=h&&(0,J.jsx)(`div`,{className:`absolute inset-0 bg-muted-bg animate-pulse rounded-lg flex items-center justify-center`,children:(0,J.jsx)(`span`,{className:`text-sm text-muted-text`,children:`Loading...`})}),t[17]=h,t[18]=L);let R=S&&T.includes(`.`)?(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(`source`,{srcSet:T.replace(/\.\w+$/,`.webp`),type:`image/webp`}),(0,J.jsx)(`img`,{ref:w,src:T,alt:d,title:i,width:o,height:s,crossOrigin:`anonymous`,onLoad:k,onError:j,className:`w-full h-auto rounded-lg ${h?`opacity-0`:`opacity-100`} transition-opacity duration-300`,loading:m?`eager`:`lazy`,decoding:`async`})]}):(0,J.jsx)(`img`,{ref:w,src:S?T:``,alt:d,title:i,width:o,height:s,crossOrigin:`anonymous`,onLoad:k,onError:j,className:`w-full h-auto rounded-lg ${h?`opacity-0`:`opacity-100`} transition-opacity duration-300`,loading:m?`eager`:`lazy`,decoding:`async`}),z;t[19]===R?z=t[20]:(z=(0,J.jsx)(`picture`,{children:R}),t[19]=R,t[20]=z);let B;t[21]!==c||t[22]!==p?(B=p&&c&&(0,J.jsx)(`figcaption`,{className:`mt-2 text-sm text-center text-muted-text italic`,children:c}),t[21]=c,t[22]=p,t[23]=B):B=t[23];let V=b?`Hide image`:`Show image`,H;t[24]===b?H=t[25]:(H=b?(0,J.jsx)(M,{className:`w-4 h-4`}):(0,J.jsx)(N,{className:`w-4 h-4`}),t[24]=b,t[25]=H);let U;t[26]!==V||t[27]!==H||t[28]!==F?(U=(0,J.jsx)(`button`,{type:`button`,onClick:F,className:`absolute top-2 right-2 p-1.5 bg-black/50 hover:bg-black/70 text-white rounded-full transition-all opacity-0 hover:opacity-100 group-hover:opacity-100`,"aria-label":V,children:H}),t[26]=V,t[27]=H,t[28]=F,t[29]=U):U=t[29];let W;return t[30]!==I||t[31]!==L||t[32]!==z||t[33]!==B||t[34]!==U?(W=(0,J.jsxs)(`figure`,{className:I,ref:w,children:[L,z,B,U]}),t[30]=I,t[31]=L,t[32]=z,t[33]=B,t[34]=U,t[35]=W):W=t[35],W},St=s(),Ct=e=>{let t=(0,St.c)(56),{src:n,alt:r,title:i,className:a,width:o,height:s,poster:c,caption:l,showCaption:u,loop:d,muted:f,controls:p}=e,m=r===void 0?``:r,h=a===void 0?``:a,g=o===void 0?`100%`:o,_=s===void 0?`auto`:s,y=u===void 0?!0:u,b=d===void 0?!1:d,x=f===void 0?!1:f,S=p===void 0?!0:p,[C,w]=(0,q.useState)(!1),[T,E]=(0,q.useState)(x),[D,O]=(0,q.useState)(!0),[k,A]=(0,q.useState)(!1),j=(0,q.useRef)(null),M;t[0]===n?M=t[1]:(M=v(n),t[0]=n,t[1]=M);let N=M,P;t[2]===c?P=t[3]:(P=v(c),t[2]=c,t[3]=P);let F=P,I;t[4]===C?I=t[5]:(I=()=>{j.current&&(C?(j.current.pause(),w(!1)):(j.current.play(),w(!0)))},t[4]=C,t[5]=I);let L=I,R;t[6]===T?R=t[7]:(R=()=>{j.current&&(j.current.muted=!T,E(!T))},t[6]=T,t[7]=R);let B=R,V;t[8]===Symbol.for(`react.memo_cache_sentinel`)?(V=()=>{O(!0)},t[8]=V):V=t[8];let W=V,G;t[9]===Symbol.for(`react.memo_cache_sentinel`)?(G=()=>{O(!1)},t[9]=G):G=t[9];let te=G,Y;t[10]===Symbol.for(`react.memo_cache_sentinel`)?(Y=()=>{O(!1),A(!0)},t[10]=Y):Y=t[10];let ne=Y,re;t[11]===b?re=t[12]:(re=()=>{j.current&&j.current.currentTime>=j.current.duration-.1&&!b&&w(!1)},t[11]=b,t[12]=re);let X=re,ie;t[13]===b?ie=t[14]:(ie=()=>{b||w(!1)},t[13]=b,t[14]=ie);let ae=ie;if(k){let e=`relative w-full bg-muted-bg border border-border-color rounded-lg flex flex-col items-center justify-center ${h}`,n,r;t[15]===Symbol.for(`react.memo_cache_sentinel`)?(n=(0,J.jsx)(`div`,{className:`bg-muted-bg border-2 border-dashed border-border-color rounded-xl w-16 h-16 mx-auto flex items-center justify-center`,children:(0,J.jsx)(U,{className:`w-6 h-6 text-muted-text`})}),r=(0,J.jsx)(`p`,{className:`mt-2 text-sm text-muted-text`,children:`Video failed to load`}),t[15]=n,t[16]=r):(n=t[15],r=t[16]);let i;t[17]===N?i=t[18]:(i=(0,J.jsxs)(`div`,{className:`p-4 text-center`,children:[n,r,(0,J.jsx)(`p`,{className:`text-xs text-muted-text`,children:N})]}),t[17]=N,t[18]=i);let a;return t[19]!==e||t[20]!==i?(a=(0,J.jsx)(`div`,{className:e,children:i}),t[19]=e,t[20]=i,t[21]=a):a=t[21],a}let oe=`relative ${h}`,se;t[22]===D?se=t[23]:(se=D&&(0,J.jsx)(`div`,{className:`absolute inset-0 bg-card flex items-center justify-center`,children:(0,J.jsx)(`div`,{className:`animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-white`})}),t[22]=D,t[23]=se);let ce=`w-full h-auto ${D?`opacity-0`:`opacity-100`} transition-opacity duration-300`,le,ue;t[24]===Symbol.for(`react.memo_cache_sentinel`)?(le=()=>w(!0),ue=()=>w(!1),t[24]=le,t[25]=ue):(le=t[24],ue=t[25]);let de=m||`Video content`,fe;t[26]!==S||t[27]!==X||t[28]!==ae||t[29]!==_||t[30]!==T||t[31]!==b||t[32]!==F||t[33]!==N||t[34]!==ce||t[35]!==de||t[36]!==i||t[37]!==g?(fe=(0,J.jsx)(`video`,{ref:j,src:N,poster:F,loop:b,muted:T,controls:S,width:g,height:_,title:i,crossOrigin:`anonymous`,className:ce,onPlay:le,onPause:ue,onEnded:ae,onTimeUpdate:X,onLoadStart:W,onCanPlay:te,onError:ne,"aria-label":de}),t[26]=S,t[27]=X,t[28]=ae,t[29]=_,t[30]=T,t[31]=b,t[32]=F,t[33]=N,t[34]=ce,t[35]=de,t[36]=i,t[37]=g,t[38]=fe):fe=t[38];let pe;t[39]!==S||t[40]!==B||t[41]!==L||t[42]!==T||t[43]!==C?(pe=!S&&(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(`div`,{className:`absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity`,children:(0,J.jsx)(`button`,{type:`button`,onClick:L,className:`bg-black/50 hover:bg-black/70 text-white p-4 rounded-full transition-all`,"aria-label":C?`Pause video`:`Play video`,children:C?(0,J.jsx)(H,{className:`w-8 h-8`}):(0,J.jsx)(U,{className:`w-8 h-8`})})}),(0,J.jsxs)(`div`,{className:`absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4 opacity-0 hover:opacity-100 transition-opacity flex justify-between items-center`,children:[(0,J.jsx)(`button`,{type:`button`,onClick:B,className:`text-white hover:text-white/80`,"aria-label":T?`Unmute video`:`Mute video`,children:T?(0,J.jsx)(ee,{className:`w-5 h-5`}):(0,J.jsx)(K,{className:`w-5 h-5`})}),(0,J.jsx)(`button`,{type:`button`,onClick:()=>{j.current&&j.current.requestFullscreen?.()},className:`text-white hover:text-white/80`,"aria-label":`Enter fullscreen`,children:(0,J.jsx)(z,{className:`w-5 h-5`})})]})]}),t[39]=S,t[40]=B,t[41]=L,t[42]=T,t[43]=C,t[44]=pe):pe=t[44];let me;t[45]!==se||t[46]!==fe||t[47]!==pe?(me=(0,J.jsxs)(`div`,{className:`relative bg-black rounded-lg overflow-hidden`,children:[se,fe,pe]}),t[45]=se,t[46]=fe,t[47]=pe,t[48]=me):me=t[48];let he;t[49]!==l||t[50]!==y?(he=y&&l&&(0,J.jsx)(`figcaption`,{className:`mt-2 text-sm text-center text-muted-text italic`,children:l}),t[49]=l,t[50]=y,t[51]=he):he=t[51];let ge;return t[52]!==oe||t[53]!==me||t[54]!==he?(ge=(0,J.jsxs)(`figure`,{className:oe,children:[me,he]}),t[52]=oe,t[53]=me,t[54]=he,t[55]=ge):ge=t[55],ge},wt=s(),Tt=e=>{let t=(0,wt.c)(61),{onHighlight:n,onCopy:r,onSelectAll:i,onSearch:a,onAskAI:o,onAddComment:s,onClose:c,visible:l,position:d}=e,[f,p]=(0,q.useState)(!1),m=(0,q.useRef)(null),g,_;t[0]!==c||t[1]!==l?(g=()=>{let e=e=>{l&&(m.current?.contains(e.target)||(p(!1),c()))};return l&&document.addEventListener(`mousedown`,e),()=>{document.removeEventListener(`mousedown`,e)}},_=[l,c],t[0]=c,t[1]=l,t[2]=g,t[3]=_):(g=t[2],_=t[3]),(0,q.useEffect)(g,_);let v;t[4]===Symbol.for(`react.memo_cache_sentinel`)?(v=[{name:`Yellow`,value:`bg-yellow-200`,displayColor:`bg-yellow-400`},{name:`Green`,value:`bg-green-200`,displayColor:`bg-green-400`},{name:`Blue`,value:`bg-blue-200`,displayColor:`bg-blue-400`},{name:`Pink`,value:`bg-pink-200`,displayColor:`bg-pink-400`},{name:`Purple`,value:`bg-purple-200`,displayColor:`bg-purple-400`}],t[4]=v):v=t[4];let b=v;if(!l)return null;let x=Math.max(10,d.top-50),S;t[5]!==x||t[6]!==d.left?(S={top:x,left:d.left,transform:`translateX(-50%)`},t[5]=x,t[6]=d.left,t[7]=S):S=t[7];let C;t[8]===r?C=t[9]:(C=e=>{e.stopPropagation(),r()},t[8]=r,t[9]=C);let w;t[10]===Symbol.for(`react.memo_cache_sentinel`)?(w=(0,J.jsx)(h,{className:`w-4 h-4`}),t[10]=w):w=t[10];let T;t[11]===C?T=t[12]:(T=(0,J.jsx)(`button`,{type:`button`,onClick:C,className:`p-2 rounded-md hover:bg-muted-bg transition-colors`,title:`Copy text`,children:w}),t[11]=C,t[12]=T);let E;t[13]===a?E=t[14]:(E=e=>{e.stopPropagation(),a()},t[13]=a,t[14]=E);let D;t[15]===Symbol.for(`react.memo_cache_sentinel`)?(D=(0,J.jsx)(u,{className:`w-4 h-4`}),t[15]=D):D=t[15];let k;t[16]===E?k=t[17]:(k=(0,J.jsx)(`button`,{type:`button`,onClick:E,className:`p-2 rounded-md hover:bg-muted-bg transition-colors`,title:`Search Web`,children:D}),t[16]=E,t[17]=k);let A;t[18]===o?A=t[19]:(A=e=>{e.stopPropagation(),o()},t[18]=o,t[19]=A);let j;t[20]===Symbol.for(`react.memo_cache_sentinel`)?(j=(0,J.jsx)(O,{className:`w-4 h-4`}),t[20]=j):j=t[20];let M;t[21]===A?M=t[22]:(M=(0,J.jsx)(`button`,{type:`button`,onClick:A,className:`p-2 rounded-md hover:bg-muted-bg transition-colors`,title:`Ask AI`,children:j}),t[21]=A,t[22]=M);let N;t[23]===s?N=t[24]:(N=e=>{e.stopPropagation(),s()},t[23]=s,t[24]=N);let P;t[25]===Symbol.for(`react.memo_cache_sentinel`)?(P=(0,J.jsx)(B,{className:`w-4 h-4`}),t[25]=P):P=t[25];let F;t[26]===N?F=t[27]:(F=(0,J.jsx)(`button`,{type:`button`,onClick:N,className:`p-2 rounded-md hover:bg-muted-bg transition-colors`,title:`Quote Reply`,children:P}),t[26]=N,t[27]=F);let I;t[28]===Symbol.for(`react.memo_cache_sentinel`)?(I=(0,J.jsx)(`div`,{className:`w-px h-4 bg-border-color mx-1`}),t[28]=I):I=t[28];let L;t[29]===i?L=t[30]:(L=e=>{e.stopPropagation(),i()},t[29]=i,t[30]=L);let R;t[31]===Symbol.for(`react.memo_cache_sentinel`)?(R=(0,J.jsx)(W,{className:`w-4 h-4`}),t[31]=R):R=t[31];let z;t[32]===L?z=t[33]:(z=(0,J.jsx)(`button`,{type:`button`,onClick:L,className:`p-2 rounded-md hover:bg-muted-bg transition-colors`,title:`Select all`,children:R}),t[32]=L,t[33]=z);let H;t[34]===f?H=t[35]:(H=e=>{e.stopPropagation(),p(!f)},t[34]=f,t[35]=H);let U=`p-2 rounded-md hover:bg-muted-bg transition-colors flex items-center gap-1 ${f?`bg-muted-bg`:``}`,G;t[36]===Symbol.for(`react.memo_cache_sentinel`)?(G=(0,J.jsx)(V,{className:`w-4 h-4`}),t[36]=G):G=t[36];let K;t[37]!==H||t[38]!==U?(K=(0,J.jsx)(`button`,{type:`button`,onClick:H,className:U,title:`Highlight text`,children:G}),t[37]=H,t[38]=U,t[39]=K):K=t[39];let ee;t[40]!==n||t[41]!==f?(ee=f&&(0,J.jsx)(`div`,{className:`absolute top-full mt-2 left-1/2 -translate-x-1/2 bg-card border border-border-color rounded-lg shadow-xl p-2 flex flex-wrap gap-2 w-32 z-20`,children:b.map(e=>(0,J.jsx)(`button`,{type:`button`,onClick:t=>{t.stopPropagation(),n(e.value),p(!1)},className:`w-6 h-6 rounded-full ${e.displayColor} hover:scale-110 transition-transform ring-1 ring-border-color`,title:`Highlight with ${e.name}`},e.name))}),t[40]=n,t[41]=f,t[42]=ee):ee=t[42];let te;t[43]!==K||t[44]!==ee?(te=(0,J.jsxs)(`div`,{className:`relative`,children:[K,ee]}),t[43]=K,t[44]=ee,t[45]=te):te=t[45];let Y;t[46]===Symbol.for(`react.memo_cache_sentinel`)?(Y=(0,J.jsx)(`div`,{className:`w-px h-4 bg-border-color mx-1`}),t[46]=Y):Y=t[46];let ne;t[47]===c?ne=t[48]:(ne=e=>{e.stopPropagation(),c()},t[47]=c,t[48]=ne);let re;t[49]===Symbol.for(`react.memo_cache_sentinel`)?(re=(0,J.jsx)(y,{className:`w-4 h-4`}),t[49]=re):re=t[49];let X;t[50]===ne?X=t[51]:(X=(0,J.jsx)(`button`,{type:`button`,onClick:ne,className:`p-1 rounded-md hover:bg-red-100 hover:text-red-600 transition-colors ml-1`,title:`Close toolbar`,children:re}),t[50]=ne,t[51]=X);let ie;return t[52]!==k||t[53]!==M||t[54]!==F||t[55]!==z||t[56]!==te||t[57]!==X||t[58]!==S||t[59]!==T?(ie=(0,J.jsxs)(`div`,{ref:m,role:`toolbar`,className:`absolute z-[1000] flex items-center gap-1 bg-card text-card-text shadow-xl rounded-lg p-2 border border-border-color animate-in fade-in zoom-in-95 duration-200 max-w-[95vw] overflow-x-auto`,style:S,onMouseDown:Et,children:[T,k,M,F,I,z,te,Y,X]}),t[52]=k,t[53]=M,t[54]=F,t[55]=z,t[56]=te,t[57]=X,t[58]=S,t[59]=T,t[60]=ie):ie=t[60],ie};function Et(e){return e.stopPropagation()}var Dt=s(),Ot=e=>{let t=(0,Dt.c)(39),{content:n,className:r,fontSizeClass:i,containerRef:a,enableTextSelectionToolbar:o,onTextSelected:s,onAddComment:c}=e,l=r===void 0?``:r,u=i===void 0?``:i,d=o===void 0?!1:o,[p,m]=(0,q.useState)(!1),h;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(h={top:0,left:0},t[0]=h):h=t[0];let[g,_]=(0,q.useState)(h),[v,y]=(0,q.useState)(``),b=n,x;if(t[1]!==b){let e=[];b=b.replace(/<img\s+([^>]*?)\s*>/gi,(t,n)=>{let r=n.match(/src\s*=\s*["']([^"']*)["']/i),i=n.match(/alt\s*=\s*["']([^"']*)["']/i),a=n.match(/title\s*=\s*["']([^"']*)["']/i),o=n.match(/width\s*=\s*["']([^"']*)["']/i),s=n.match(/height\s*=\s*["']([^"']*)["']/i),c=e.length;return e.push((0,J.jsx)(xt,{src:r?r[1]:``,alt:i?i[1]:``,title:a?a[1]:``,width:o?o[1]:void 0,height:s?s[1]:void 0,className:`my-4`},`img-${c}`)),`__CUSTOM_COMPONENT_PLACEHOLDER_${c}__`}),b=b.replace(/<video\s+([^>]*?)\s*\/?>.*?<\/video>|<video\s+([^>]*?)\s*>/gi,t=>{let n=t.match(/src\s*=\s*["']([^"']*)["']/i),r=t.match(/poster\s*=\s*["']([^"']*)["']/i),i=t.match(/alt\s*=\s*["']([^"']*)["']/i),a=t.match(/title\s*=\s*["']([^"']*)["']/i),o=t.match(/width\s*=\s*["']([^"']*)["']/i),s=t.match(/height\s*=\s*["']([^"']*)["']/i),c=t.includes(`loop`),l=t.includes(`muted`),u=t.includes(`controls`),d=e.length;return e.push((0,J.jsx)(Ct,{src:n?n[1]:``,poster:r?r[1]:``,alt:i?i[1]:``,title:a?a[1]:``,width:o?o[1]:void 0,height:s?s[1]:void 0,loop:c,muted:l,controls:u,className:`my-4`},`video-${d}`)),`__CUSTOM_COMPONENT_PLACEHOLDER_${d}__`});let n=b.split(/(__CUSTOM_COMPONENT_PLACEHOLDER_\d+__)/),r=(e,t)=>{if(e.nodeType===Node.TEXT_NODE){let t=e.textContent;return t?.trim()?t:null}if(e.nodeType===Node.ELEMENT_NODE){let n=e,i={key:t};for(let e=0;e<n.attributes.length;e++){let t=n.attributes[e],r=t.name===`class`?`className`:t.name;i[r]=t.value}let a=Array.from(n.childNodes).map((e,n)=>r(e,`${t}-child-${n}`)).filter(kt);return(0,q.createElement)(n.tagName.toLowerCase(),i,...a)}return null};x=n.map((t,n)=>{if(t.startsWith(`__CUSTOM_COMPONENT_PLACEHOLDER_`)){let n=t.match(/__CUSTOM_COMPONENT_PLACEHOLDER_(\d+)__/);if(n)return e[parseInt(n[1],10)]}else if(t.trim()){let e=yt.sanitize(t),i=document.createElement(`div`);return i.innerHTML=e,Array.from(i.childNodes).map((e,t)=>r(e,`part-${n}-node-${t}`)).filter(At)}return null}).filter(Boolean).flat(),t[1]=b,t[2]=x,t[3]=b}else x=t[2],b=t[3];let S=x,C,w;t[4]!==a||t[5]!==d||t[6]!==s?(C=()=>{if(!d)return;let e=()=>{let e=window.getSelection();if(!e||e.toString().trim()===``){m(!1),y(``);return}let t=e.toString().trim();if(!t){m(!1);return}let n=e.getRangeAt(0),r=a?.current;if(!r||!r.contains(n.commonAncestorContainer)){m(!1);return}let i=document.createRange();i.setStart(n.endContainer,n.endOffset),i.collapse(!0);let o=i.getBoundingClientRect(),c=r.getBoundingClientRect(),l=o.top-c.top-50,u=o.left-c.left+o.width/2;u=Math.max(160,Math.min(u,c.width-160)),c.width<320&&(u=c.width/2),_({top:l,left:u}),y(t),m(!0),s&&s(t)},t=()=>{setTimeout(e,0)};return document.addEventListener(`mouseup`,t),document.addEventListener(`selectionchange`,e),()=>{document.removeEventListener(`mouseup`,t),document.removeEventListener(`selectionchange`,e)}},w=[d,a,s],t[4]=a,t[5]=d,t[6]=s,t[7]=C,t[8]=w):(C=t[7],w=t[8]),(0,q.useEffect)(C,w);let T;t[9]===v?T=t[10]:(T=()=>{v&&navigator.clipboard.writeText(v).then(()=>{f(`Text copied to clipboard`),m(!1)}).catch(()=>{let e=document.createElement(`textarea`);e.value=v,document.body.appendChild(e),e.select(),document.execCommand(`copy`),document.body.removeChild(e),f(`Text copied to clipboard`),m(!1)})},t[9]=v,t[10]=T);let E=T,D;t[11]===v?D=t[12]:(D=()=>{v&&(window.open(`https://www.google.com/search?q=${encodeURIComponent(v)}`,`_blank`),m(!1))},t[11]=v,t[12]=D);let O=D,k;t[13]===v?k=t[14]:(k=()=>{v&&(navigator.clipboard.writeText(v).catch(jt),window.open(`https://chat.openai.com`,`_blank`),f(`Text copied! Paste it in ChatGPT.`),m(!1))},t[13]=v,t[14]=k);let A=k,j;t[15]!==c||t[16]!==v?(j=()=>{v&&c&&(c(v),m(!1))},t[15]=c,t[16]=v,t[17]=j):j=t[17];let M=j,N;t[18]===a?N=t[19]:(N=()=>{let e=a?.current;if(e){let t=window.getSelection();if(t){let n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}}},t[18]=a,t[19]=N);let P=N,F;t[20]===Symbol.for(`react.memo_cache_sentinel`)?(F=e=>{let t=window.getSelection();if(!t||t.toString().trim()===``)return;let n=t.getRangeAt(0),r=document.createElement(`span`);r.className=`${e} rounded-sm transition-colors duration-200`,n.surroundContents(r),t.removeAllRanges(),m(!1)},t[20]=F):F=t[20];let I=F,L;t[21]===a?L=t[22]:(L=e=>{let t=window.getSelection();if(t&&t.toString().trim()!==``){e.preventDefault();let n=t.toString().trim();if(n&&a?.current){let e=t.getRangeAt(0);if(a.current.contains(e.commonAncestorContainer)){let t=document.createRange();t.setStart(e.endContainer,e.endOffset),t.collapse(!0);let r=t.getBoundingClientRect(),i=a.current.getBoundingClientRect(),o=r.top-i.top-50,s=r.left-i.left+r.width/2;s=Math.max(160,Math.min(s,i.width-160)),i.width<320&&(s=i.width/2),_({top:o,left:s}),y(n),m(!0)}}}},t[21]=a,t[22]=L);let R=L,z=`relative prose max-w-none ${u} ${l} transition-all duration-300 ease-in-out`,B;t[23]===Symbol.for(`react.memo_cache_sentinel`)?(B={fontSize:`inherit`},t[23]=B):B=t[23];let V=d&&p,H;t[24]===Symbol.for(`react.memo_cache_sentinel`)?(H=()=>m(!1),t[24]=H):H=t[24];let U;t[25]!==M||t[26]!==A||t[27]!==E||t[28]!==O||t[29]!==P||t[30]!==V||t[31]!==g?(U=(0,J.jsx)(Tt,{visible:V,position:g,onHighlight:I,onCopy:E,onSelectAll:P,onSearch:O,onAskAI:A,onAddComment:M,onClose:H}),t[25]=M,t[26]=A,t[27]=E,t[28]=O,t[29]=P,t[30]=V,t[31]=g,t[32]=U):U=t[32];let W;return t[33]!==a||t[34]!==R||t[35]!==S||t[36]!==z||t[37]!==U?(W=(0,J.jsxs)(`article`,{ref:a,tabIndex:-1,className:z,style:B,onContextMenu:R,children:[S,U]}),t[33]=a,t[34]=R,t[35]=S,t[36]=z,t[37]=U,t[38]=W):W=t[38],W};function kt(e){return e!=null}function At(e){return e!==null}function jt(){}export{ge as a,ce as c,X as d,Y as f,_e as i,ae as l,T as m,yt as n,me as o,j as p,ve as r,fe as s,Ot as t,ie as u};