import{r as e}from"./rolldown-runtime-Ckerh37x.js";import{h as t,l as n,r,t as i}from"./vendor-react-BM5KEv9z.js";import{H as a,R as o,j as s,u as c}from"./vendor-ui-C5Vdypzg.js";import{d as l,f as u,m as d,o as f}from"./index-B14WtCRy.js";var p=e(t(),1),m=e(i(),1),h=()=>{let e=n(),[t,i]=(0,p.useState)([]),[h,g]=(0,p.useState)(!0),_=(0,p.useCallback)(async()=>{g(!0);try{let e=await f.getSubmissions();e.success&&e.submissions?i(e.submissions):d(e.error||`Failed to fetch submissions`,`error`)}catch{d(`সার্ভার ত্রুটি!`,`error`)}finally{g(!1)}},[]);(0,p.useEffect)(()=>{_()},[_]);let v=async e=>{try{d(`জমা মুছে ফেলার বৈশিষ্ট্য এখনও বাস্তবায়িত হয়নি`,`error`)}catch{d(`জমা মুছে ফেলতে ব্যর্থ হয়েছে`,`error`)}};return h?(0,m.jsx)(`div`,{className:`text-center py-8`,children:(0,m.jsx)(s,{className:`w-10 h-10 animate-spin text-bbcRed`})}):(0,m.jsxs)(`div`,{className:`space-y-4 sm:space-y-6`,children:[(0,m.jsx)(`div`,{className:`mb-4 sm:mb-6`,children:(0,m.jsx)(`h1`,{className:`text-xl sm:text-2xl font-bold`,children:`ব্যবহারকারী জমা দেওয়া তথ্য`})}),(0,m.jsx)(`div`,{className:`bg-card rounded-xl border border-border-color shadow-sm overflow-hidden`,children:t.length===0?(0,m.jsxs)(`div`,{className:`p-6 sm:p-8 text-center text-muted-text`,children:[(0,m.jsx)(o,{className:`w-16 h-16 mx-auto mb-4 text-border-color`}),(0,m.jsx)(`p`,{className:`text-base sm:text-lg font-bold mb-2`,children:`কোনো জমা পাওয়া যায়নি`})]}):(0,m.jsx)(`div`,{className:`grid grid-cols-1 gap-3 sm:gap-4 p-3 sm:p-4`,children:t.map(t=>(0,m.jsxs)(`button`,{onClick:()=>u(window.innerWidth<768,e,`/admin/submissions/${t.id}`),type:`button`,className:`bg-card p-3 sm:p-4 rounded-lg border border-border-color group cursor-pointer hover:bg-muted-bg transition-colors w-full text-left`,children:[(0,m.jsxs)(`div`,{className:`flex items-start justify-between mb-3`,children:[(0,m.jsxs)(`div`,{className:`flex items-center gap-3 min-w-0`,children:[(0,m.jsx)(`div`,{className:`w-10 h-10 rounded-lg bg-muted-bg flex items-center justify-center shrink-0 border border-border-color font-bold text-card-text text-xs`,children:t.file_path?`SUB`:`MSG`}),(0,m.jsxs)(`div`,{className:`truncate`,children:[(0,m.jsx)(r,{to:`/admin/articles/${t.article_id}/edit`,className:`font-bold text-sm truncate block hover:text-bbcRed`,children:t.title_en||t.title_bn||`Unknown Article`}),(0,m.jsx)(`p`,{className:`text-xs text-muted-text truncate`,children:t.article_id})]})]}),(0,m.jsxs)(`div`,{className:`flex items-center gap-1 shrink-0 ml-2`,children:[t.file_path&&(0,m.jsx)(`a`,{href:t.file_path,target:`_blank`,rel:`noopener noreferrer`,className:`p-2 hover:bg-muted-bg rounded-lg`,children:(0,m.jsx)(a,{className:`w-4 h-4`})}),(0,m.jsx)(`button`,{type:`button`,onClick:()=>{window.confirm(`আপনি কি নিশ্চিত যে আপনি এই জমা মুছে ফেলতে চান?`)&&v(t.id)},className:`p-2 hover:bg-danger/10 text-danger rounded-lg`,children:(0,m.jsx)(c,{className:`w-4 h-4`})})]})]}),(0,m.jsx)(`div`,{className:`text-sm text-card-text max-h-12 overflow-hidden`,children:t.message||`-`}),(0,m.jsx)(`div`,{className:`text-xs text-muted-text mt-2`,children:l(t.created_at,`bn`)})]},t.id))})})]})};export{h as default};