import{r as e}from"./rolldown-runtime-Ckerh37x.js";import{A as t,F as n,M as r,N as i,O as a,U as o,W as s,_ as c,a as l,c as u,d,g as f,j as p,m,s as h,u as g,v as _,w as v,y}from"./component-Layout-TPrHIES6.js";import{i as b}from"./component-admin-C1EmCHSN.js";var x=i(`arrow-right`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`m12 5 7 7-7 7`,key:`xquz4c`}]]),S=i(`bold`,[[`path`,{d:`M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8`,key:`mg9rjx`}]]),C=i(`bot`,[[`path`,{d:`M12 8V4H8`,key:`hb8ula`}],[`rect`,{width:`16`,height:`12`,x:`4`,y:`8`,rx:`2`,key:`enze0r`}],[`path`,{d:`M2 14h2`,key:`vft8re`}],[`path`,{d:`M20 14h2`,key:`4cs60a`}],[`path`,{d:`M15 13v2`,key:`1xurst`}],[`path`,{d:`M9 13v2`,key:`rq6x2g`}]]),w=i(`check`,[[`path`,{d:`M20 6 9 17l-5-5`,key:`1gmf2c`}]]),T=i(`clock`,[[`path`,{d:`M12 6v6l4 2`,key:`mmk7yg`}],[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),E=i(`eye-off`,[[`path`,{d:`M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49`,key:`ct8e1f`}],[`path`,{d:`M14.084 14.158a3 3 0 0 1-4.242-4.242`,key:`151rxh`}],[`path`,{d:`M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143`,key:`13bj9a`}],[`path`,{d:`m2 2 20 20`,key:`1ooewy`}]]),D=i(`eye`,[[`path`,{d:`M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0`,key:`1nclc0`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),O=i(`globe`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20`,key:`13o1zl`}],[`path`,{d:`M2 12h20`,key:`9i4pu4`}]]),k=i(`image`,[[`rect`,{width:`18`,height:`18`,x:`3`,y:`3`,rx:`2`,ry:`2`,key:`1m3agn`}],[`circle`,{cx:`9`,cy:`9`,r:`2`,key:`af1f0g`}],[`path`,{d:`m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21`,key:`1xmnt7`}]]),A=i(`italic`,[[`line`,{x1:`19`,x2:`10`,y1:`4`,y2:`4`,key:`15jd3p`}],[`line`,{x1:`14`,x2:`5`,y1:`20`,y2:`20`,key:`bu0au3`}],[`line`,{x1:`15`,x2:`9`,y1:`4`,y2:`20`,key:`uljnxc`}]]),j=i(`list-ordered`,[[`path`,{d:`M11 5h10`,key:`1cz7ny`}],[`path`,{d:`M11 12h10`,key:`1438ji`}],[`path`,{d:`M11 19h10`,key:`11t30w`}],[`path`,{d:`M4 4h1v5`,key:`10yrso`}],[`path`,{d:`M4 9h2`,key:`r1h2o0`}],[`path`,{d:`M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02`,key:`xtkcd5`}]]),M=i(`list`,[[`path`,{d:`M3 5h.01`,key:`18ugdj`}],[`path`,{d:`M3 12h.01`,key:`nlz23k`}],[`path`,{d:`M3 19h.01`,key:`noohij`}],[`path`,{d:`M8 5h13`,key:`1pao27`}],[`path`,{d:`M8 12h13`,key:`1za7za`}],[`path`,{d:`M8 19h13`,key:`m83p4d`}]]),N=i(`maximize`,[[`path`,{d:`M8 3H5a2 2 0 0 0-2 2v3`,key:`1dcmit`}],[`path`,{d:`M21 8V5a2 2 0 0 0-2-2h-3`,key:`1e4gt3`}],[`path`,{d:`M3 16v3a2 2 0 0 0 2 2h3`,key:`wsl5sc`}],[`path`,{d:`M16 21h3a2 2 0 0 0 2-2v-3`,key:`18trek`}]]),P=i(`message-square-quote`,[[`path`,{d:`M14 14a2 2 0 0 0 2-2V8h-2`,key:`1r06pg`}],[`path`,{d:`M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z`,key:`18887p`}],[`path`,{d:`M8 14a2 2 0 0 0 2-2V8H8`,key:`1jzu5j`}]]),F=i(`palette`,[[`path`,{d:`M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z`,key:`e79jfc`}],[`circle`,{cx:`13.5`,cy:`6.5`,r:`.5`,fill:`currentColor`,key:`1okk4w`}],[`circle`,{cx:`17.5`,cy:`10.5`,r:`.5`,fill:`currentColor`,key:`f64h9f`}],[`circle`,{cx:`6.5`,cy:`12.5`,r:`.5`,fill:`currentColor`,key:`qy21gx`}],[`circle`,{cx:`8.5`,cy:`7.5`,r:`.5`,fill:`currentColor`,key:`fotxhn`}]]),I=i(`pause`,[[`rect`,{x:`14`,y:`3`,width:`5`,height:`18`,rx:`1`,key:`kaeet6`}],[`rect`,{x:`5`,y:`3`,width:`5`,height:`18`,rx:`1`,key:`1wsw3u`}]]),L=i(`play`,[[`path`,{d:`M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z`,key:`10ikf1`}]]),R=i(`square`,[[`rect`,{width:`18`,height:`18`,x:`3`,y:`3`,rx:`2`,key:`afitv7`}]]),z=i(`video`,[[`path`,{d:`m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5`,key:`ftymec`}],[`rect`,{x:`2`,y:`6`,width:`14`,height:`12`,rx:`2`,key:`158x01`}]]),B=i(`volume-2`,[[`path`,{d:`M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z`,key:`uqj9uw`}],[`path`,{d:`M16 9a5 5 0 0 1 0 6`,key:`1q6k2b`}],[`path`,{d:`M19.364 18.364a9 9 0 0 0 0-12.728`,key:`ijwkga`}]]),V=i(`volume-x`,[[`path`,{d:`M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z`,key:`uqj9uw`}],[`line`,{x1:`22`,x2:`16`,y1:`9`,y2:`15`,key:`1ewh16`}],[`line`,{x1:`16`,x2:`22`,y1:`9`,y2:`15`,key:`5ykzw1`}]]),H=o(),U=e(s(),1),W=e(c(),1),G=U.memo(e=>{let t=(0,H.c)(56),{article:i,type:a,isSectionDark:o,onBookmarkToggle:s,isBookmarked:c}=e,{language:l,theme:d}=f(),h=d===`dark`||o,g=o?`text-white`:`text-card-text`,_=o?`text-white/70`:`text-muted-text`,v=o?`text-white/60`:`text-muted-text`,y=c?h?`white`:`black`:`none`,b;t[0]!==i.published_at||t[1]!==l?(b=u(i.published_at,l),t[0]=i.published_at,t[1]=l,t[2]=b):b=t[2];let x=b,S=`group cursor-pointer flex flex-col ${a===`hero-grid`?`h-auto`:`h-full`} relative bg-card-elevated rounded-2xl overflow-hidden shadow-soft hover:shadow-soft-hover transition-all duration-300 hover:-translate-y-1 border border-border-color animate-in fade-in slide-in-from-bottom-4 duration-500`,C=`/article/${i.id}`,w=`overflow-hidden ${a===`hero-grid`?`aspect-[16/10]`:`aspect-video`} relative`,E=i.image||`https://placehold.co/600x400/1a1a1a/FFF?text=BreachTimes`,D;t[3]!==i.title||t[4]!==E?(D=(0,W.jsx)(`img`,{src:E,alt:i.title,loading:`lazy`,className:`w-full h-full object-cover transition-transform duration-700 group-hover:scale-105`}),t[3]=i.title,t[4]=E,t[5]=D):D=t[5];let O;t[6]!==i.id||t[7]!==s?(O=e=>{e.preventDefault(),e.stopPropagation(),s(i.id)},t[6]=i.id,t[7]=s,t[8]=O):O=t[8];let k;t[9]===y?k=t[10]:(k=(0,W.jsx)(r,{className:`w-4 h-4`,fill:y}),t[9]=y,t[10]=k);let A;t[11]!==O||t[12]!==k?(A=(0,W.jsx)(`div`,{className:`absolute top-0 right-0 p-3 opacity-0 group-hover:opacity-100 transition-opacity z-10`,children:(0,W.jsx)(`button`,{type:`button`,onClick:O,className:`bg-white/90 dark:bg-black/50 backdrop-blur p-2.5 rounded-full hover:bg-white dark:hover:bg-black/70 text-card-text shadow-md z-10 hover:scale-110 active:scale-95 transition-all`,children:k})}),t[11]=O,t[12]=k,t[13]=A):A=t[13];let j;t[14]===Symbol.for(`react.memo_cache_sentinel`)?(j=(0,W.jsx)(`div`,{className:`absolute bottom-0 left-0 right-0 h-1/3 bg-gradient-to-t from-black/50 to-transparent opacity-60`}),t[14]=j):j=t[14];let M;t[15]!==w||t[16]!==D||t[17]!==A?(M=(0,W.jsxs)(`div`,{className:w,children:[D,A,j]}),t[15]=w,t[16]=D,t[17]=A,t[18]=M):M=t[18];let N;t[19]===i.category?N=t[20]:(N=(0,W.jsx)(`span`,{className:`text-[9px] sm:text-[10px] font-bold uppercase tracking-wider text-bbcRed bg-danger/10 dark:bg-danger/20 px-2 py-0.5 rounded`,children:i.category}),t[19]=i.category,t[20]=N);let P;t[21]===x?P=t[22]:(P=(0,W.jsxs)(`span`,{className:`text-[9px] sm:text-[10px] text-muted-text`,children:[`‚Ä¢ `,x]}),t[21]=x,t[22]=P);let F;t[23]!==N||t[24]!==P?(F=(0,W.jsxs)(`div`,{className:`mb-2 flex items-center gap-2`,children:[N,P]}),t[23]=N,t[24]=P,t[25]=F):F=t[25];let I=`text-base sm:text-lg md:text-xl font-bold mb-2 sm:mb-3 leading-tight group-hover:text-bbcRed transition-colors ${g}`,L;t[26]!==i.title||t[27]!==I?(L=(0,W.jsx)(`h3`,{className:I,children:i.title}),t[26]=i.title,t[27]=I,t[28]=L):L=t[28];let R;t[29]!==i.summary||t[30]!==_||t[31]!==a?(R=(a===`hero-grid`||a===`grid`)&&i.summary&&(0,W.jsx)(`p`,{className:`${_} text-xs sm:text-sm leading-relaxed mb-3 sm:mb-4 line-clamp-3`,children:i.summary}),t[29]=i.summary,t[30]=_,t[31]=a,t[32]=R):R=t[32];let z=`mt-auto pt-2 sm:pt-3 border-t border-border-color flex items-center justify-between text-[10px] sm:text-xs ${v}`,B;t[33]===l?B=t[34]:(B=m(`read_more`,l),t[33]=l,t[34]=B);let V;t[35]===Symbol.for(`react.memo_cache_sentinel`)?(V=(0,W.jsx)(p,{className:`w-3 h-3`}),t[35]=V):V=t[35];let U;t[36]===B?U=t[37]:(U=(0,W.jsxs)(`span`,{className:`flex items-center gap-1 group-hover:translate-x-1 transition-transform`,children:[B,` `,V]}),t[36]=B,t[37]=U);let G;t[38]===i.readTime?G=t[39]:(G=i.readTime&&(0,W.jsxs)(`span`,{className:`flex items-center gap-1`,children:[(0,W.jsx)(T,{className:`w-3 h-3`}),` `,i.readTime]}),t[38]=i.readTime,t[39]=G);let q;t[40]!==z||t[41]!==U||t[42]!==G?(q=(0,W.jsxs)(`div`,{className:z,children:[U,G]}),t[40]=z,t[41]=U,t[42]=G,t[43]=q):q=t[43];let J;t[44]!==F||t[45]!==L||t[46]!==R||t[47]!==q?(J=(0,W.jsxs)(`div`,{className:`flex flex-col flex-grow p-3 sm:p-4 md:p-5`,children:[F,L,R,q]}),t[44]=F,t[45]=L,t[46]=R,t[47]=q,t[48]=J):J=t[48];let Y;t[49]!==M||t[50]!==J||t[51]!==C?(Y=(0,W.jsxs)(n,{to:C,onClick:K,children:[M,J]}),t[49]=M,t[50]=J,t[51]=C,t[52]=Y):Y=t[52];let X;return t[53]!==S||t[54]!==Y?(X=(0,W.jsx)(`article`,{className:S,children:Y}),t[53]=S,t[54]=Y,t[55]=X):X=t[55],X});function K(){return window.scrollTo({top:0,behavior:`smooth`})}o();var q=o();const J=e=>{let t=(0,q.c)(33),{value:n,onChange:r,options:i,placeholder:a,className:o,disabled:s,id:c}=e,l=a===void 0?`Select an option`:a,u=o===void 0?``:o,d=s===void 0?!1:s,[f,p]=(0,U.useState)(!1),m=(0,U.useRef)(null),h,g;t[0]===f?(h=t[1],g=t[2]):(h=()=>{let e=e=>{m.current&&!m.current.contains(e.target)&&p(!1)};return f&&document.addEventListener(`mousedown`,e),()=>{document.removeEventListener(`mousedown`,e)}},g=[f],t[0]=f,t[1]=h,t[2]=g),(0,U.useEffect)(h,g);let _;if(t[3]!==i||t[4]!==n){let e;t[6]===n?e=t[7]:(e=e=>e.value===n,t[6]=n,t[7]=e),_=i.find(e),t[3]=i,t[4]=n,t[5]=_}else _=t[5];let v=_,y=v?v.label:l,b;t[8]===r?b=t[9]:(b=e=>{r(e),p(!1)},t[8]=r,t[9]=b);let x=b,S=`custom-dropdown-wrapper ${u}`,C;t[10]!==d||t[11]!==f?(C=()=>!d&&p(!f),t[10]=d,t[11]=f,t[12]=C):C=t[12];let w=`custom-dropdown-button ${f?`open`:``} ${d?`opacity-50 cursor-not-allowed`:``}`,T=`${n?``:`custom-dropdown-item placeholder`}`,E;t[13]!==y||t[14]!==T?(E=(0,W.jsx)(`span`,{className:T,children:y}),t[13]=y,t[14]=T,t[15]=E):E=t[15];let D;t[16]!==d||t[17]!==w||t[18]!==E||t[19]!==C?(D=(0,W.jsx)(`button`,{type:`button`,onClick:C,disabled:d,className:w,children:E}),t[16]=d,t[17]=w,t[18]=E,t[19]=C,t[20]=D):D=t[20];let O=`custom-dropdown-menu ${f?`open`:``}`,k;t[21]!==x||t[22]!==i||t[23]!==n?(k=i.length===0?(0,W.jsx)(`div`,{className:`px-3 py-2 text-sm text-muted-text`,children:`No options available`}):i.map(e=>(0,W.jsx)(`button`,{type:`button`,onClick:()=>x(e.value),className:`custom-dropdown-item w-full text-left ${n===e.value?`selected`:``}`,children:e.label},e.value)),t[21]=x,t[22]=i,t[23]=n,t[24]=k):k=t[24];let A;t[25]!==O||t[26]!==k?(A=(0,W.jsx)(`div`,{className:O,children:k}),t[25]=O,t[26]=k,t[27]=A):A=t[27];let j;return t[28]!==c||t[29]!==D||t[30]!==A||t[31]!==S?(j=(0,W.jsxs)(`div`,{ref:m,className:S,id:c,children:[D,A]}),t[28]=c,t[29]=D,t[30]=A,t[31]=S,t[32]=j):j=t[32],j};var Y=({value:e,onChange:n,height:r=`400px`,className:i=``})=>{let a=(0,U.useRef)(null),[o,s]=(0,U.useState)(``),[c,u]=(0,U.useState)(!1),[d,f]=(0,U.useState)(``);(0,U.useEffect)(()=>{a.current&&!c&&(a.current.innerHTML=e||``,f(e||``),u(!0))},[c,e]),(0,U.useEffect)(()=>{a.current&&c&&e!==d&&(a.current.innerHTML=e||``,f(e||``))},[e,c,d]);let p=e=>{n(e.currentTarget.innerHTML)},m=(e,t)=>{document.execCommand(e,!1,t),a.current&&a.current.focus()},h=(0,U.useCallback)(async e=>{try{if(s(``),!e.type.startsWith(`image/`))throw Error(`‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡ßà‡¶ß ‡¶õ‡¶¨‡¶ø ‡¶´‡¶æ‡¶á‡¶≤ ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®`);if(e.size>10*1024*1024)throw Error(`‡¶õ‡¶¨‡¶ø‡¶∞ ‡¶Ü‡¶ï‡¶æ‡¶∞ 10MB ‡¶è‡¶∞ ‡¶ö‡ßá‡¶Ø‡¶º‡ßá ‡¶ï‡¶Æ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá`);let t=new FormData;t.append(`image`,e);let n=await l.uploadImage(t);if(!n.success)throw Error(n.error||`‡¶õ‡¶¨‡¶ø ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•`);return n.url}catch(e){return s(e instanceof Error?e.message:`‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá`),null}},[]),g=(0,U.useCallback)(async e=>{try{if(s(``),!e.type.startsWith(`video/`))throw Error(`‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡ßà‡¶ß ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶´‡¶æ‡¶á‡¶≤ ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®`);if(e.size>100*1024*1024)throw Error(`‡¶≠‡¶ø‡¶°‡¶ø‡¶ì‡¶∞ ‡¶Ü‡¶ï‡¶æ‡¶∞ 100MB ‡¶è‡¶∞ ‡¶ö‡ßá‡¶Ø‡¶º‡ßá ‡¶ï‡¶Æ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá`);let t=new FormData;t.append(`video`,e);let n=await l.uploadVideo(t);if(!n.success||!n.url)throw Error(n.error||`‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•`);return n.url}catch(e){return s(e instanceof Error?e.message:`‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá`),null}},[]),_=(0,U.useCallback)(()=>{let e=document.createElement(`input`);e.type=`file`,e.accept=`image/*`,e.onchange=e=>{let t=e.target.files?.[0];t&&h(t).then(e=>{if(e){let t=`<img src="${e}" />`;document.execCommand(`insertHTML`,!1,t)}})},e.click()},[h]),v=(0,U.useCallback)(()=>{let e=document.createElement(`input`);e.type=`file`,e.accept=`video/*`,e.onchange=e=>{let t=e.target.files?.[0];t&&g(t).then(e=>{if(e){let t=`<video controls src="${e}"></video>`;document.execCommand(`insertHTML`,!1,t)}})},e.click()},[g]),y=(0,U.useCallback)(e=>{e.preventDefault(),e.stopPropagation();let t=e.dataTransfer.files;if(t&&t.length>0){let e=t[0];e.type.startsWith(`image/`)?h(e).then(e=>{if(e){let t=`<img src="${e}" />`;document.execCommand(`insertHTML`,!1,t)}}):e.type.startsWith(`video/`)&&g(e).then(e=>{if(e){let t=`<video controls src="${e}"></video>`;document.execCommand(`insertHTML`,!1,t)}})}},[h,g]);return(0,W.jsxs)(`div`,{className:`flex flex-col gap-3 ${i}`,children:[(0,W.jsxs)(`div`,{className:`flex flex-wrap gap-2 items-center p-3 bg-muted-bg rounded-lg border border-border-color`,children:[(0,W.jsx)(`button`,{type:`button`,onClick:()=>m(`bold`),className:`p-2 rounded hover:bg-hover-bg transition-colors text-muted-text hover:text-card-text`,title:`Bold (Ctrl+B)`,"aria-label":`Bold`,children:(0,W.jsx)(S,{size:18})}),(0,W.jsx)(`button`,{type:`button`,onClick:()=>m(`italic`),className:`p-2 rounded hover:bg-hover-bg transition-colors text-muted-text hover:text-card-text`,title:`Italic (Ctrl+I)`,"aria-label":`Italic`,children:(0,W.jsx)(A,{size:18})}),(0,W.jsx)(`div`,{className:`w-px h-6 bg-border-color`}),(0,W.jsx)(`button`,{type:`button`,onClick:()=>m(`insertUnorderedList`),className:`p-2 rounded hover:bg-hover-bg transition-colors text-muted-text hover:text-card-text`,title:`Bullet List`,"aria-label":`Bullet List`,children:(0,W.jsx)(M,{size:18})}),(0,W.jsx)(`button`,{type:`button`,onClick:()=>m(`insertOrderedList`),className:`p-2 rounded hover:bg-hover-bg transition-colors text-muted-text hover:text-card-text`,title:`Ordered List`,"aria-label":`Ordered List`,children:(0,W.jsx)(j,{size:18})}),(0,W.jsx)(`div`,{className:`w-px h-6 bg-border-color`}),(0,W.jsx)(`button`,{type:`button`,onClick:_,className:`p-2 rounded hover:bg-hover-bg transition-colors text-muted-text hover:text-card-text`,title:`Insert Image`,"aria-label":`Insert Image`,children:(0,W.jsx)(k,{size:18})}),(0,W.jsx)(`button`,{type:`button`,onClick:v,className:`p-2 rounded hover:bg-hover-bg transition-colors text-muted-text hover:text-card-text`,title:`Insert Video`,"aria-label":`Insert Video`,children:(0,W.jsx)(z,{size:18})}),(0,W.jsx)(`div`,{className:`w-px h-6 bg-border-color`}),(0,W.jsx)(`button`,{type:`button`,onClick:()=>m(`undo`),className:`p-2 rounded hover:bg-hover-bg transition-colors text-muted-text hover:text-card-text`,title:`Undo`,"aria-label":`Undo`,children:`‚Ü∂`}),(0,W.jsx)(`button`,{type:`button`,onClick:()=>m(`redo`),className:`p-2 rounded hover:bg-hover-bg transition-colors text-muted-text hover:text-card-text`,title:`Redo`,"aria-label":`Redo`,children:`‚Ü∑`})]}),(0,W.jsx)(`div`,{ref:a,contentEditable:!0,role:`textbox`,tabIndex:0,onInput:p,suppressContentEditableWarning:!0,style:{height:r,minHeight:r},className:`relative p-4 bg-card border border-border-color rounded-lg overflow-y-auto focus:outline-none focus:ring-2 focus:ring-bbcRed focus:border-transparent`,onDrop:y,onDragOver:e=>{e.preventDefault(),e.stopPropagation()}}),o&&(0,W.jsxs)(`div`,{className:`flex items-center gap-2 p-3 bg-danger/10 border border-danger/30 rounded-lg text-danger animate-in fade-in duration-300`,children:[(0,W.jsx)(t,{size:18,className:`flex-shrink-0`}),(0,W.jsx)(`span`,{className:`text-sm`,children:o})]})]})},X=class extends U.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error(`Error caught by boundary:`,e,t),window.location.reload()}render(){return this.state.hasError?null:this.props.children}};o();var ee=o(),te={sm:`w-6 h-6`,md:`w-10 h-10`,lg:`w-16 h-16`};const ne=e=>{let t=(0,ee.c)(10),{size:n,message:r,fullScreen:i}=e,a=n===void 0?`md`:n,o=i===void 0?!1:i,s=`${te[a]} animate-spin text-bbcRed`,c;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(c=(0,W.jsxs)(`svg`,{className:`w-full h-full text-primary`,xmlns:`http://www.w3.org/2000/svg`,fill:`none`,viewBox:`0 0 24 24`,role:`img`,"aria-label":`Loading spinner`,children:[(0,W.jsx)(`title`,{children:`Loading spinner`}),(0,W.jsx)(`circle`,{className:`opacity-25`,cx:`12`,cy:`12`,r:`10`,stroke:`currentColor`,strokeWidth:`4`}),(0,W.jsx)(`path`,{className:`opacity-75`,fill:`currentColor`,d:`M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z`})]}),t[0]=c):c=t[0];let l;t[1]===s?l=t[2]:(l=(0,W.jsx)(`div`,{className:s,children:c}),t[1]=s,t[2]=l);let u;t[3]===r?u=t[4]:(u=r&&(0,W.jsx)(`p`,{className:`text-muted-text`,children:r}),t[3]=r,t[4]=u);let d;t[5]!==l||t[6]!==u?(d=(0,W.jsxs)(`div`,{className:`flex flex-col items-center justify-center gap-4 animate-in fade-in duration-300`,children:[l,u]}),t[5]=l,t[6]=u,t[7]=d):d=t[7];let f=d;if(o){let e;return t[8]===f?e=t[9]:(e=(0,W.jsx)(`div`,{className:`fixed inset-0 flex items-center justify-center bg-black/50 z-50`,children:f}),t[8]=f,t[9]=e),e}return f};o();var re=o();const ie=e=>{let t=(0,re.c)(2),{children:n}=e,r;return t[0]===n?r=t[1]:(r=(0,W.jsx)(`div`,{className:`animate-in fade-in slide-in-from-bottom-4 duration-500`,children:n}),t[0]=n,t[1]=r),r};var ae=o();const oe=e=>{let t=(0,ae.c)(16),{currentArticle:r,allArticles:i}=e,a;if(t[0]!==i||t[1]!==r){let e;t[3]===r?e=t[4]:(e=e=>e.id===r.id||e.status!==`published`?!1:e.category_id===r.category_id||e.section_id===r.section_id,t[3]=r,t[4]=e),a=i.filter(e).slice(0,4),t[0]=i,t[1]=r,t[2]=a}else a=t[2];let o=a;if(o.length===0)return null;let s;t[5]===Symbol.for(`react.memo_cache_sentinel`)?(s=(0,W.jsxs)(`div`,{className:`flex items-center gap-3 mb-6`,children:[(0,W.jsx)(`div`,{className:`w-1 h-8 bg-bbcRed rounded-full`}),(0,W.jsx)(`h3`,{className:`text-xl sm:text-2xl font-bold`,children:`‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡¶ø‡¶§ ‡¶®‡¶ø‡¶¨‡¶®‡ßç‡¶ß`})]}),t[5]=s):s=t[5];let c;t[6]===o?c=t[7]:(c=o.map(se),t[6]=o,t[7]=c);let l;t[8]===c?l=t[9]:(l=(0,W.jsx)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4`,children:c}),t[8]=c,t[9]=l);let u=r.category_id?`/?category=${r.category_id}`:`/`,d;t[10]===Symbol.for(`react.memo_cache_sentinel`)?(d=(0,W.jsx)(p,{className:`w-4 h-4 group-hover:translate-x-1 transition-transform`}),t[10]=d):d=t[10];let f;t[11]===u?f=t[12]:(f=(0,W.jsxs)(n,{to:u,className:`inline-flex items-center gap-2 mt-6 px-6 py-3 rounded-lg bg-card border border-border-color hover:bg-muted-bg transition-colors font-bold text-sm group`,children:[`‡¶Ü‡¶∞‡¶ì ‡¶®‡¶ø‡¶¨‡¶®‡ßç‡¶ß ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®`,d]}),t[11]=u,t[12]=f);let m;return t[13]!==l||t[14]!==f?(m=(0,W.jsxs)(`section`,{className:`mt-12 mb-8`,children:[s,l,f]}),t[13]=l,t[14]=f,t[15]=m):m=t[15],m};function se(e){return(0,W.jsxs)(n,{to:`/article/${e.id}`,className:`bg-card rounded-lg border border-border-color overflow-hidden hover:shadow-lg transition-all group`,children:[(0,W.jsx)(`div`,{className:`aspect-video bg-muted-bg overflow-hidden`,children:(0,W.jsx)(`img`,{src:g(e.image)||`https://placehold.co/600x400/1a1a1a/FFF?text=BreachTimes`,alt:e.title,className:`w-full h-full object-cover group-hover:scale-105 transition-transform`})}),(0,W.jsxs)(`div`,{className:`p-3`,children:[(0,W.jsx)(`h4`,{className:`font-bold text-sm line-clamp-2 group-hover:text-bbcRed transition-colors`,children:e.title}),e.readTime&&(0,W.jsxs)(`div`,{className:`flex items-center gap-1 text-xs text-muted-text mt-2`,children:[(0,W.jsx)(T,{className:`w-3 h-3`}),e.readTime]})]})]},e.id)}const ce=({children:e,fallback:t=(0,W.jsx)(ne,{fullScreen:!0})})=>(0,W.jsx)(U.Suspense,{fallback:t,children:(0,W.jsx)(ie,{children:e})});var le=o();const ue=e=>{let t=(0,le.c)(6),{isLoading:n,children:r,message:i,size:a,fullScreen:o}=e,s=a===void 0?`md`:a,c=o===void 0?!1:o;if(n){let e;return t[0]!==c||t[1]!==i||t[2]!==s?(e=(0,W.jsx)(ne,{size:s,message:i,fullScreen:c}),t[0]=c,t[1]=i,t[2]=s,t[3]=e):e=t[3],e}let l;return t[4]===r?l=t[5]:(l=(0,W.jsx)(W.Fragment,{children:r}),t[4]=r,t[5]=l),l},de=e=>{let t=(0,le.c)(15),{isEmpty:n,children:r,icon:i,title:a,description:o,action:s}=e;if(n){let e;t[0]===i?e=t[1]:(e=i&&(0,W.jsx)(`div`,{className:`mb-4 text-muted-text`,children:i}),t[0]=i,t[1]=e);let n;t[2]===a?n=t[3]:(n=(0,W.jsx)(`h3`,{className:`text-lg font-semibold text-card-text mb-2`,children:a}),t[2]=a,t[3]=n);let r;t[4]===o?r=t[5]:(r=o&&(0,W.jsx)(`p`,{className:`text-muted-text text-sm mb-4`,children:o}),t[4]=o,t[5]=r);let c;t[6]===s?c=t[7]:(c=s&&(0,W.jsx)(`div`,{className:`mt-4`,children:s}),t[6]=s,t[7]=c);let l;return t[8]!==e||t[9]!==n||t[10]!==r||t[11]!==c?(l=(0,W.jsxs)(`div`,{className:`flex flex-col items-center justify-center py-12 px-4 text-center`,children:[e,n,r,c]}),t[8]=e,t[9]=n,t[10]=r,t[11]=c,t[12]=l):l=t[12],l}let c;return t[13]===r?c=t[14]:(c=(0,W.jsx)(W.Fragment,{children:r}),t[13]=r,t[14]=c),c},fe=({text:e,onTranslate:t,currentLang:n=`bn`,disabled:r=!1})=>{let[i,o]=(0,U.useState)(!1),[s,c]=(0,U.useState)(null),[u,d]=(0,U.useState)(null),[f,p]=(0,U.useState)(!1),[m,h]=(0,U.useState)(!1),g=n===`bn`?`en`:`bn`,_={bn:`‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ`,en:`English`},y={bn:`Bengali`,en:`English`};return(0,W.jsxs)(`div`,{className:`space-y-3 mt-4 p-4 bg-muted-bg border border-border-color rounded-xl shadow-soft`,children:[(0,W.jsxs)(`div`,{className:`flex items-start gap-2 pb-3`,children:[(0,W.jsx)(v,{className:`w-4 h-4 text-tech flex-shrink-0 mt-0.5`}),(0,W.jsxs)(`p`,{className:`text-xs text-muted-text leading-relaxed`,children:[(0,W.jsx)(`span`,{className:`font-semibold text-card-text`,children:`‡¶ü‡¶ø‡¶™:`}),` ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶≤‡ßá‡¶ñ‡¶æ‡¶ü‡¶ø ‡¶∏‡ßç‡¶¨‡¶Ø‡¶º‡¶Ç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶≠‡¶æ‡¶¨‡ßá `,y[g],` ‡¶è ‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶¨‡ßá ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶Æ‡¶∏‡ßç‡¶§ ‡¶õ‡¶¨‡¶ø ‡¶ì ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§ ‡¶•‡¶æ‡¶ï‡¶¨‡ßá‡•§`]})]}),(0,W.jsx)(`button`,{type:`button`,onClick:async()=>{if(!e.trim()){c(`‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶™‡¶æ‡¶†‡ßç‡¶Ø ‡¶™‡ßç‡¶∞‡¶¨‡ßá‡¶∂ ‡¶ï‡¶∞‡ßÅ‡¶®`);return}o(!0),c(null),d(null);try{let t=await l.translateText(e,n,g);t.success&&t.translation?(d(t.translation),h(!0)):c(t.error||`‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶ ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§`)}catch(e){c(e instanceof Error?e.message:`‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ö‡¶™‡ßç‡¶∞‡¶§‡ßç‡¶Ø‡¶æ‡¶∂‡¶ø‡¶§ ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø ‡¶ò‡¶ü‡ßá‡¶õ‡ßá`)}finally{o(!1)}},disabled:r||i||!e.trim(),className:`w-full flex items-center justify-center gap-2 px-4 py-3 bg-tech hover:bg-tech/90 text-white rounded-lg transition-all duration-200 disabled:opacity-40 disabled:cursor-not-allowed font-semibold text-sm shadow-soft hover:shadow-soft-hover`,children:i?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(b,{className:`w-4 h-4 animate-spin`}),(0,W.jsx)(`span`,{children:`‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶ ‡¶ï‡¶∞‡¶õ‡¶ø...`})]}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(O,{className:`w-4 h-4`}),(0,W.jsx)(`span`,{children:_[n]}),(0,W.jsx)(x,{className:`w-3 h-3`}),(0,W.jsx)(`span`,{children:_[g]})]})}),s&&(0,W.jsxs)(`div`,{className:`p-3 bg-danger/10 border border-danger rounded-lg text-danger text-sm flex items-start gap-2`,children:[(0,W.jsx)(`span`,{className:`text-lg flex-shrink-0`,children:`‚ö†Ô∏è`}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`p`,{className:`font-medium`,children:`‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶ ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•`}),(0,W.jsx)(`p`,{className:`text-xs mt-1`,children:s})]})]}),u&&m&&(0,W.jsxs)(`div`,{className:`space-y-3 pt-2 border-t border-border-color`,children:[(0,W.jsxs)(`div`,{className:`space-y-2`,children:[(0,W.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,W.jsxs)(`p`,{className:`text-xs font-bold text-muted-text uppercase tracking-wider`,children:[`‚úì ‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶ ‡¶∏‡¶´‡¶≤ (`,y[g],`)`]}),(0,W.jsx)(`span`,{className:`text-xs bg-success/20 text-success px-2 py-1 rounded-full font-medium`,children:`‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡ßÅ‡¶§`})]}),(0,W.jsx)(`div`,{className:`max-h-48 overflow-y-auto p-3 bg-card border border-border-color rounded-lg`,children:(0,W.jsx)(`p`,{className:`text-sm text-card-text leading-relaxed break-words`,children:u})})]}),(0,W.jsxs)(`div`,{className:`flex flex-col sm:flex-row gap-2`,children:[(0,W.jsxs)(`button`,{type:`button`,onClick:()=>{u&&(t(u.trim(),g),d(null),h(!1))},className:`flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-success hover:bg-success/90 text-white rounded-lg transition-all duration-200 font-medium text-sm shadow-soft hover:shadow-soft-hover`,children:[(0,W.jsx)(w,{className:`w-4 h-4`}),`‡¶è‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®`]}),(0,W.jsx)(`button`,{type:`button`,onClick:()=>{u&&(navigator.clipboard.writeText(u),p(!0),setTimeout(()=>p(!1),2e3))},className:`flex items-center justify-center gap-2 px-4 py-2.5 bg-border-color hover:bg-border-color/80 text-card-text rounded-lg transition-all duration-200 font-medium text-sm`,children:f?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(w,{className:`w-4 h-4 text-success`}),(0,W.jsx)(`span`,{className:`text-success`,children:`‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá`})]}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(a,{className:`w-4 h-4`}),`‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®`]})})]}),(0,W.jsxs)(`div`,{className:`text-xs text-muted-text p-2 bg-muted-bg rounded italic border border-border-color`,children:[`üí° "‡¶è‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®" ‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡¶≤‡ßá ‡¶Ö‡¶®‡ßÅ‡¶¨‡¶æ‡¶¶‡¶ü‡¶ø ‡¶∏‡ßç‡¶¨‡¶Ø‡¶º‡¶Ç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶≠‡¶æ‡¶¨‡ßá`,` `,_[g],` ‡¶ï‡ßç‡¶∑‡ßá‡¶§‡ßç‡¶∞‡ßá ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡¶¨‡ßá‡•§`]})]})]})};var{entries:pe,setPrototypeOf:me,isFrozen:he,getPrototypeOf:ge,getOwnPropertyDescriptor:_e}=Object,{freeze:ve,seal:ye,create:be}=Object,{apply:xe,construct:Se}=typeof Reflect<`u`&&Reflect;ve||(ve=function(e){return e}),ye||(ye=function(e){return e}),xe||(xe=function(e,t){var n=[...arguments].slice(2);return e.apply(t,n)}),Se||(Se=function(e){return new e(...[...arguments].slice(1))});var Ce=Z(Array.prototype.forEach),we=Z(Array.prototype.lastIndexOf),Te=Z(Array.prototype.pop),Ee=Z(Array.prototype.push),De=Z(Array.prototype.splice),Oe=Z(String.prototype.toLowerCase),ke=Z(String.prototype.toString),Ae=Z(String.prototype.match),je=Z(String.prototype.replace),Me=Z(String.prototype.indexOf),Ne=Z(String.prototype.trim),Pe=Z(Object.prototype.hasOwnProperty),Fe=Z(RegExp.prototype.test),Ie=Le(TypeError);function Z(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);var n=[...arguments].slice(1);return xe(e,t,n)}}function Le(e){return function(){return Se(e,[...arguments])}}function Q(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Oe;me&&me(e,null);let r=t.length;for(;r--;){let i=t[r];if(typeof i==`string`){let e=n(i);e!==i&&(he(t)||(t[r]=e),i=e)}e[i]=!0}return e}function Re(e){for(let t=0;t<e.length;t++)Pe(e,t)||(e[t]=null);return e}function ze(e){let t=be(null);for(let[n,r]of pe(e))Pe(e,n)&&(Array.isArray(r)?t[n]=Re(r):r&&typeof r==`object`&&r.constructor===Object?t[n]=ze(r):t[n]=r);return t}function Be(e,t){for(;e!==null;){let n=_e(e,t);if(n){if(n.get)return Z(n.get);if(typeof n.value==`function`)return Z(n.value)}e=ge(e)}function n(){return null}return n}var Ve=ve(`a.abbr.acronym.address.area.article.aside.audio.b.bdi.bdo.big.blink.blockquote.body.br.button.canvas.caption.center.cite.code.col.colgroup.content.data.datalist.dd.decorator.del.details.dfn.dialog.dir.div.dl.dt.element.em.fieldset.figcaption.figure.font.footer.form.h1.h2.h3.h4.h5.h6.head.header.hgroup.hr.html.i.img.input.ins.kbd.label.legend.li.main.map.mark.marquee.menu.menuitem.meter.nav.nobr.ol.optgroup.option.output.p.picture.pre.progress.q.rp.rt.ruby.s.samp.search.section.select.shadow.slot.small.source.spacer.span.strike.strong.style.sub.summary.sup.table.tbody.td.template.textarea.tfoot.th.thead.time.tr.track.tt.u.ul.var.video.wbr`.split(`.`)),He=ve(`svg.a.altglyph.altglyphdef.altglyphitem.animatecolor.animatemotion.animatetransform.circle.clippath.defs.desc.ellipse.enterkeyhint.exportparts.filter.font.g.glyph.glyphref.hkern.image.inputmode.line.lineargradient.marker.mask.metadata.mpath.part.path.pattern.polygon.polyline.radialgradient.rect.stop.style.switch.symbol.text.textpath.title.tref.tspan.view.vkern`.split(`.`)),Ue=ve([`feBlend`,`feColorMatrix`,`feComponentTransfer`,`feComposite`,`feConvolveMatrix`,`feDiffuseLighting`,`feDisplacementMap`,`feDistantLight`,`feDropShadow`,`feFlood`,`feFuncA`,`feFuncB`,`feFuncG`,`feFuncR`,`feGaussianBlur`,`feImage`,`feMerge`,`feMergeNode`,`feMorphology`,`feOffset`,`fePointLight`,`feSpecularLighting`,`feSpotLight`,`feTile`,`feTurbulence`]),We=ve([`animate`,`color-profile`,`cursor`,`discard`,`font-face`,`font-face-format`,`font-face-name`,`font-face-src`,`font-face-uri`,`foreignobject`,`hatch`,`hatchpath`,`mesh`,`meshgradient`,`meshpatch`,`meshrow`,`missing-glyph`,`script`,`set`,`solidcolor`,`unknown`,`use`]),Ge=ve(`math.menclose.merror.mfenced.mfrac.mglyph.mi.mlabeledtr.mmultiscripts.mn.mo.mover.mpadded.mphantom.mroot.mrow.ms.mspace.msqrt.mstyle.msub.msup.msubsup.mtable.mtd.mtext.mtr.munder.munderover.mprescripts`.split(`.`)),Ke=ve([`maction`,`maligngroup`,`malignmark`,`mlongdiv`,`mscarries`,`mscarry`,`msgroup`,`mstack`,`msline`,`msrow`,`semantics`,`annotation`,`annotation-xml`,`mprescripts`,`none`]),qe=ve([`#text`]),Je=ve(`accept.action.align.alt.autocapitalize.autocomplete.autopictureinpicture.autoplay.background.bgcolor.border.capture.cellpadding.cellspacing.checked.cite.class.clear.color.cols.colspan.controls.controlslist.coords.crossorigin.datetime.decoding.default.dir.disabled.disablepictureinpicture.disableremoteplayback.download.draggable.enctype.enterkeyhint.exportparts.face.for.headers.height.hidden.high.href.hreflang.id.inert.inputmode.integrity.ismap.kind.label.lang.list.loading.loop.low.max.maxlength.media.method.min.minlength.multiple.muted.name.nonce.noshade.novalidate.nowrap.open.optimum.part.pattern.placeholder.playsinline.popover.popovertarget.popovertargetaction.poster.preload.pubdate.radiogroup.readonly.rel.required.rev.reversed.role.rows.rowspan.spellcheck.scope.selected.shape.size.sizes.slot.span.srclang.start.src.srcset.step.style.summary.tabindex.title.translate.type.usemap.valign.value.width.wrap.xmlns.slot`.split(`.`)),Ye=ve(`accent-height.accumulate.additive.alignment-baseline.amplitude.ascent.attributename.attributetype.azimuth.basefrequency.baseline-shift.begin.bias.by.class.clip.clippathunits.clip-path.clip-rule.color.color-interpolation.color-interpolation-filters.color-profile.color-rendering.cx.cy.d.dx.dy.diffuseconstant.direction.display.divisor.dur.edgemode.elevation.end.exponent.fill.fill-opacity.fill-rule.filter.filterunits.flood-color.flood-opacity.font-family.font-size.font-size-adjust.font-stretch.font-style.font-variant.font-weight.fx.fy.g1.g2.glyph-name.glyphref.gradientunits.gradienttransform.height.href.id.image-rendering.in.in2.intercept.k.k1.k2.k3.k4.kerning.keypoints.keysplines.keytimes.lang.lengthadjust.letter-spacing.kernelmatrix.kernelunitlength.lighting-color.local.marker-end.marker-mid.marker-start.markerheight.markerunits.markerwidth.maskcontentunits.maskunits.max.mask.mask-type.media.method.mode.min.name.numoctaves.offset.operator.opacity.order.orient.orientation.origin.overflow.paint-order.path.pathlength.patterncontentunits.patterntransform.patternunits.points.preservealpha.preserveaspectratio.primitiveunits.r.rx.ry.radius.refx.refy.repeatcount.repeatdur.restart.result.rotate.scale.seed.shape-rendering.slope.specularconstant.specularexponent.spreadmethod.startoffset.stddeviation.stitchtiles.stop-color.stop-opacity.stroke-dasharray.stroke-dashoffset.stroke-linecap.stroke-linejoin.stroke-miterlimit.stroke-opacity.stroke.stroke-width.style.surfacescale.systemlanguage.tabindex.tablevalues.targetx.targety.transform.transform-origin.text-anchor.text-decoration.text-rendering.textlength.type.u1.u2.unicode.values.viewbox.visibility.version.vert-adv-y.vert-origin-x.vert-origin-y.width.word-spacing.wrap.writing-mode.xchannelselector.ychannelselector.x.x1.x2.xmlns.y.y1.y2.z.zoomandpan`.split(`.`)),Xe=ve(`accent.accentunder.align.bevelled.close.columnsalign.columnlines.columnspan.denomalign.depth.dir.display.displaystyle.encoding.fence.frame.height.href.id.largeop.length.linethickness.lspace.lquote.mathbackground.mathcolor.mathsize.mathvariant.maxsize.minsize.movablelimits.notation.numalign.open.rowalign.rowlines.rowspacing.rowspan.rspace.rquote.scriptlevel.scriptminsize.scriptsizemultiplier.selection.separator.separators.stretchy.subscriptshift.supscriptshift.symmetric.voffset.width.xmlns`.split(`.`)),Ze=ve([`xlink:href`,`xml:id`,`xlink:title`,`xml:space`,`xmlns:xlink`]),Qe=ye(/\{\{[\w\W]*|[\w\W]*\}\}/gm),$e=ye(/<%[\w\W]*|[\w\W]*%>/gm),et=ye(/\$\{[\w\W]*/gm),tt=ye(/^data-[\-\w.\u00B7-\uFFFF]+$/),nt=ye(/^aria-[\-\w]+$/),rt=ye(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),it=ye(/^(?:\w+script|data):/i),$=ye(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),at=ye(/^html$/i),ot=ye(/^[a-z][.\w]*(-[.\w]+)+$/i),st=Object.freeze({__proto__:null,ARIA_ATTR:nt,ATTR_WHITESPACE:$,CUSTOM_ELEMENT:ot,DATA_ATTR:tt,DOCTYPE_NAME:at,ERB_EXPR:$e,IS_ALLOWED_URI:rt,IS_SCRIPT_OR_DATA:it,MUSTACHE_EXPR:Qe,TMPLIT_EXPR:et}),ct={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},lt=function(){return typeof window>`u`?null:window},ut=function(e,t){if(typeof e!=`object`||typeof e.createPolicy!=`function`)return null;let n=null,r=`data-tt-policy-suffix`;t&&t.hasAttribute(r)&&(n=t.getAttribute(r));let i=`dompurify`+(n?`#`+n:``);try{return e.createPolicy(i,{createHTML(e){return e},createScriptURL(e){return e}})}catch{return console.warn(`TrustedTypes policy `+i+` could not be created.`),null}},dt=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function ft(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:lt(),t=e=>ft(e);if(t.version=`3.3.1`,t.removed=[],!e||!e.document||e.document.nodeType!==ct.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e,r=n,i=r.currentScript,{DocumentFragment:a,HTMLTemplateElement:o,Node:s,Element:c,NodeFilter:l,NamedNodeMap:u=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:d,DOMParser:f,trustedTypes:p}=e,m=c.prototype,h=Be(m,`cloneNode`),g=Be(m,`remove`),_=Be(m,`nextSibling`),v=Be(m,`childNodes`),y=Be(m,`parentNode`);if(typeof o==`function`){let e=n.createElement(`template`);e.content&&e.content.ownerDocument&&(n=e.content.ownerDocument)}let b,x=``,{implementation:S,createNodeIterator:C,createDocumentFragment:w,getElementsByTagName:T}=n,{importNode:E}=r,D=dt();t.isSupported=typeof pe==`function`&&typeof y==`function`&&S&&S.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:O,ERB_EXPR:k,TMPLIT_EXPR:A,DATA_ATTR:j,ARIA_ATTR:M,IS_SCRIPT_OR_DATA:N,ATTR_WHITESPACE:P,CUSTOM_ELEMENT:F}=st,{IS_ALLOWED_URI:I}=st,L=null,R=Q({},[...Ve,...He,...Ue,...Ge,...qe]),z=null,B=Q({},[...Je,...Ye,...Xe,...Ze]),V=Object.seal(be(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),H=null,U=null,W=Object.seal(be(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}})),G=!0,K=!0,q=!1,J=!0,Y=!1,X=!0,ee=!1,te=!1,ne=!1,re=!1,ie=!1,ae=!1,oe=!0,se=!1,ce=!0,le=!1,ue={},de=null,fe=Q({},[`annotation-xml`,`audio`,`colgroup`,`desc`,`foreignobject`,`head`,`iframe`,`math`,`mi`,`mn`,`mo`,`ms`,`mtext`,`noembed`,`noframes`,`noscript`,`plaintext`,`script`,`style`,`svg`,`template`,`thead`,`title`,`video`,`xmp`]),me=null,he=Q({},[`audio`,`video`,`img`,`source`,`image`,`track`]),ge=null,_e=Q({},[`alt`,`class`,`for`,`id`,`label`,`name`,`pattern`,`placeholder`,`role`,`summary`,`title`,`value`,`style`,`xmlns`]),ye=`http://www.w3.org/1998/Math/MathML`,xe=`http://www.w3.org/2000/svg`,Se=`http://www.w3.org/1999/xhtml`,Z=Se,Le=!1,Re=null,Qe=Q({},[ye,xe,Se],ke),$e=Q({},[`mi`,`mo`,`mn`,`ms`,`mtext`]),et=Q({},[`annotation-xml`]),tt=Q({},[`title`,`style`,`font`,`a`,`script`]),nt=null,it=[`application/xhtml+xml`,`text/html`],$=null,ot=null,pt=n.createElement(`form`),mt=function(e){return e instanceof RegExp||e instanceof Function},ht=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ot&&ot===e)){if((!e||typeof e!=`object`)&&(e={}),e=ze(e),nt=it.indexOf(e.PARSER_MEDIA_TYPE)===-1?`text/html`:e.PARSER_MEDIA_TYPE,$=nt===`application/xhtml+xml`?ke:Oe,L=Pe(e,`ALLOWED_TAGS`)?Q({},e.ALLOWED_TAGS,$):R,z=Pe(e,`ALLOWED_ATTR`)?Q({},e.ALLOWED_ATTR,$):B,Re=Pe(e,`ALLOWED_NAMESPACES`)?Q({},e.ALLOWED_NAMESPACES,ke):Qe,ge=Pe(e,`ADD_URI_SAFE_ATTR`)?Q(ze(_e),e.ADD_URI_SAFE_ATTR,$):_e,me=Pe(e,`ADD_DATA_URI_TAGS`)?Q(ze(he),e.ADD_DATA_URI_TAGS,$):he,de=Pe(e,`FORBID_CONTENTS`)?Q({},e.FORBID_CONTENTS,$):fe,H=Pe(e,`FORBID_TAGS`)?Q({},e.FORBID_TAGS,$):ze({}),U=Pe(e,`FORBID_ATTR`)?Q({},e.FORBID_ATTR,$):ze({}),ue=Pe(e,`USE_PROFILES`)?e.USE_PROFILES:!1,G=e.ALLOW_ARIA_ATTR!==!1,K=e.ALLOW_DATA_ATTR!==!1,q=e.ALLOW_UNKNOWN_PROTOCOLS||!1,J=e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Y=e.SAFE_FOR_TEMPLATES||!1,X=e.SAFE_FOR_XML!==!1,ee=e.WHOLE_DOCUMENT||!1,re=e.RETURN_DOM||!1,ie=e.RETURN_DOM_FRAGMENT||!1,ae=e.RETURN_TRUSTED_TYPE||!1,ne=e.FORCE_BODY||!1,oe=e.SANITIZE_DOM!==!1,se=e.SANITIZE_NAMED_PROPS||!1,ce=e.KEEP_CONTENT!==!1,le=e.IN_PLACE||!1,I=e.ALLOWED_URI_REGEXP||rt,Z=e.NAMESPACE||Se,$e=e.MATHML_TEXT_INTEGRATION_POINTS||$e,et=e.HTML_INTEGRATION_POINTS||et,V=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&mt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(V.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&mt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(V.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==`boolean`&&(V.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Y&&(K=!1),ie&&(re=!0),ue&&(L=Q({},qe),z=[],ue.html===!0&&(Q(L,Ve),Q(z,Je)),ue.svg===!0&&(Q(L,He),Q(z,Ye),Q(z,Ze)),ue.svgFilters===!0&&(Q(L,Ue),Q(z,Ye),Q(z,Ze)),ue.mathMl===!0&&(Q(L,Ge),Q(z,Xe),Q(z,Ze))),e.ADD_TAGS&&(typeof e.ADD_TAGS==`function`?W.tagCheck=e.ADD_TAGS:(L===R&&(L=ze(L)),Q(L,e.ADD_TAGS,$))),e.ADD_ATTR&&(typeof e.ADD_ATTR==`function`?W.attributeCheck=e.ADD_ATTR:(z===B&&(z=ze(z)),Q(z,e.ADD_ATTR,$))),e.ADD_URI_SAFE_ATTR&&Q(ge,e.ADD_URI_SAFE_ATTR,$),e.FORBID_CONTENTS&&(de===fe&&(de=ze(de)),Q(de,e.FORBID_CONTENTS,$)),e.ADD_FORBID_CONTENTS&&(de===fe&&(de=ze(de)),Q(de,e.ADD_FORBID_CONTENTS,$)),ce&&(L[`#text`]=!0),ee&&Q(L,[`html`,`head`,`body`]),L.table&&(Q(L,[`tbody`]),delete H.tbody),e.TRUSTED_TYPES_POLICY){if(typeof e.TRUSTED_TYPES_POLICY.createHTML!=`function`)throw Ie(`TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.`);if(typeof e.TRUSTED_TYPES_POLICY.createScriptURL!=`function`)throw Ie(`TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.`);b=e.TRUSTED_TYPES_POLICY,x=b.createHTML(``)}else b===void 0&&(b=ut(p,i)),b!==null&&typeof x==`string`&&(x=b.createHTML(``));ve&&ve(e),ot=e}},gt=Q({},[...He,...Ue,...We]),_t=Q({},[...Ge,...Ke]),vt=function(e){let t=y(e);(!t||!t.tagName)&&(t={namespaceURI:Z,tagName:`template`});let n=Oe(e.tagName),r=Oe(t.tagName);return Re[e.namespaceURI]?e.namespaceURI===xe?t.namespaceURI===Se?n===`svg`:t.namespaceURI===ye?n===`svg`&&(r===`annotation-xml`||$e[r]):!!gt[n]:e.namespaceURI===ye?t.namespaceURI===Se?n===`math`:t.namespaceURI===xe?n===`math`&&et[r]:!!_t[n]:e.namespaceURI===Se?t.namespaceURI===xe&&!et[r]||t.namespaceURI===ye&&!$e[r]?!1:!_t[n]&&(tt[n]||!gt[n]):!!(nt===`application/xhtml+xml`&&Re[e.namespaceURI]):!1},yt=function(e){Ee(t.removed,{element:e});try{y(e).removeChild(e)}catch{g(e)}},bt=function(e,n){try{Ee(t.removed,{attribute:n.getAttributeNode(e),from:n})}catch{Ee(t.removed,{attribute:null,from:n})}if(n.removeAttribute(e),e===`is`)if(re||ie)try{yt(n)}catch{}else try{n.setAttribute(e,``)}catch{}},xt=function(e){let t=null,r=null;if(ne)e=`<remove></remove>`+e;else{let t=Ae(e,/^[\r\n\t ]+/);r=t&&t[0]}nt===`application/xhtml+xml`&&Z===Se&&(e=`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>`+e+`</body></html>`);let i=b?b.createHTML(e):e;if(Z===Se)try{t=new f().parseFromString(i,nt)}catch{}if(!t||!t.documentElement){t=S.createDocument(Z,`template`,null);try{t.documentElement.innerHTML=Le?x:i}catch{}}let a=t.body||t.documentElement;return e&&r&&a.insertBefore(n.createTextNode(r),a.childNodes[0]||null),Z===Se?T.call(t,ee?`html`:`body`)[0]:ee?t.documentElement:a},St=function(e){return C.call(e.ownerDocument||e,e,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null)},Ct=function(e){return e instanceof d&&(typeof e.nodeName!=`string`||typeof e.textContent!=`string`||typeof e.removeChild!=`function`||!(e.attributes instanceof u)||typeof e.removeAttribute!=`function`||typeof e.setAttribute!=`function`||typeof e.namespaceURI!=`string`||typeof e.insertBefore!=`function`||typeof e.hasChildNodes!=`function`)},wt=function(e){return typeof s==`function`&&e instanceof s};function Tt(e,n,r){Ce(e,e=>{e.call(t,n,r,ot)})}let Et=function(e){let n=null;if(Tt(D.beforeSanitizeElements,e,null),Ct(e))return yt(e),!0;let r=$(e.nodeName);if(Tt(D.uponSanitizeElement,e,{tagName:r,allowedTags:L}),X&&e.hasChildNodes()&&!wt(e.firstElementChild)&&Fe(/<[/\w!]/g,e.innerHTML)&&Fe(/<[/\w!]/g,e.textContent)||e.nodeType===ct.progressingInstruction||X&&e.nodeType===ct.comment&&Fe(/<[/\w]/g,e.data))return yt(e),!0;if(!(W.tagCheck instanceof Function&&W.tagCheck(r))&&(!L[r]||H[r])){if(!H[r]&&Ot(r)&&(V.tagNameCheck instanceof RegExp&&Fe(V.tagNameCheck,r)||V.tagNameCheck instanceof Function&&V.tagNameCheck(r)))return!1;if(ce&&!de[r]){let t=y(e)||e.parentNode,n=v(e)||e.childNodes;if(n&&t){let r=n.length;for(let i=r-1;i>=0;--i){let r=h(n[i],!0);r.__removalCount=(e.__removalCount||0)+1,t.insertBefore(r,_(e))}}}return yt(e),!0}return e instanceof c&&!vt(e)||(r===`noscript`||r===`noembed`||r===`noframes`)&&Fe(/<\/no(script|embed|frames)/i,e.innerHTML)?(yt(e),!0):(Y&&e.nodeType===ct.text&&(n=e.textContent,Ce([O,k,A],e=>{n=je(n,e,` `)}),e.textContent!==n&&(Ee(t.removed,{element:e.cloneNode()}),e.textContent=n)),Tt(D.afterSanitizeElements,e,null),!1)},Dt=function(e,t,r){if(oe&&(t===`id`||t===`name`)&&(r in n||r in pt))return!1;if(!(K&&!U[t]&&Fe(j,t))&&!(G&&Fe(M,t))&&!(W.attributeCheck instanceof Function&&W.attributeCheck(t,e))){if(!z[t]||U[t]){if(!(Ot(e)&&(V.tagNameCheck instanceof RegExp&&Fe(V.tagNameCheck,e)||V.tagNameCheck instanceof Function&&V.tagNameCheck(e))&&(V.attributeNameCheck instanceof RegExp&&Fe(V.attributeNameCheck,t)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(t,e))||t===`is`&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&Fe(V.tagNameCheck,r)||V.tagNameCheck instanceof Function&&V.tagNameCheck(r))))return!1}else if(!ge[t]&&!Fe(I,je(r,P,``))&&!((t===`src`||t===`xlink:href`||t===`href`)&&e!==`script`&&Me(r,`data:`)===0&&me[e])&&!(q&&!Fe(N,je(r,P,``)))&&r)return!1}return!0},Ot=function(e){return e!==`annotation-xml`&&Ae(e,F)},kt=function(e){Tt(D.beforeSanitizeAttributes,e,null);let{attributes:n}=e;if(!n||Ct(e))return;let r={attrName:``,attrValue:``,keepAttr:!0,allowedAttributes:z,forceKeepAttr:void 0},i=n.length;for(;i--;){let{name:a,namespaceURI:o,value:s}=n[i],c=$(a),l=s,u=a===`value`?l:Ne(l);if(r.attrName=c,r.attrValue=u,r.keepAttr=!0,r.forceKeepAttr=void 0,Tt(D.uponSanitizeAttribute,e,r),u=r.attrValue,se&&(c===`id`||c===`name`)&&(bt(a,e),u=`user-content-`+u),X&&Fe(/((--!?|])>)|<\/(style|title|textarea)/i,u)){bt(a,e);continue}if(c===`attributename`&&Ae(u,`href`)){bt(a,e);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr){bt(a,e);continue}if(!J&&Fe(/\/>/i,u)){bt(a,e);continue}Y&&Ce([O,k,A],e=>{u=je(u,e,` `)});let d=$(e.nodeName);if(!Dt(d,c,u)){bt(a,e);continue}if(b&&typeof p==`object`&&typeof p.getAttributeType==`function`&&!o)switch(p.getAttributeType(d,c)){case`TrustedHTML`:u=b.createHTML(u);break;case`TrustedScriptURL`:u=b.createScriptURL(u);break}if(u!==l)try{o?e.setAttributeNS(o,a,u):e.setAttribute(a,u),Ct(e)?yt(e):Te(t.removed)}catch{bt(a,e)}}Tt(D.afterSanitizeAttributes,e,null)},At=function e(t){let n=null,r=St(t);for(Tt(D.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)Tt(D.uponSanitizeShadowNode,n,null),Et(n),kt(n),n.content instanceof a&&e(n.content);Tt(D.afterSanitizeShadowDOM,t,null)};return t.sanitize=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=null,o=null,c=null,l=null;if(Le=!e,Le&&(e=`<!-->`),typeof e!=`string`&&!wt(e))if(typeof e.toString==`function`){if(e=e.toString(),typeof e!=`string`)throw Ie(`dirty is not a string, aborting`)}else throw Ie(`toString is not a function`);if(!t.isSupported)return e;if(te||ht(n),t.removed=[],typeof e==`string`&&(le=!1),le){if(e.nodeName){let t=$(e.nodeName);if(!L[t]||H[t])throw Ie(`root node is forbidden and cannot be sanitized in-place`)}}else if(e instanceof s)i=xt(`<!---->`),o=i.ownerDocument.importNode(e,!0),o.nodeType===ct.element&&o.nodeName===`BODY`||o.nodeName===`HTML`?i=o:i.appendChild(o);else{if(!re&&!Y&&!ee&&e.indexOf(`<`)===-1)return b&&ae?b.createHTML(e):e;if(i=xt(e),!i)return re?null:ae?x:``}i&&ne&&yt(i.firstChild);let u=St(le?e:i);for(;c=u.nextNode();)Et(c),kt(c),c.content instanceof a&&At(c.content);if(le)return e;if(re){if(ie)for(l=w.call(i.ownerDocument);i.firstChild;)l.appendChild(i.firstChild);else l=i;return(z.shadowroot||z.shadowrootmode)&&(l=E.call(r,l,!0)),l}let d=ee?i.outerHTML:i.innerHTML;return ee&&L[`!doctype`]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&Fe(at,i.ownerDocument.doctype.name)&&(d=`<!DOCTYPE `+i.ownerDocument.doctype.name+`>
`+d),Y&&Ce([O,k,A],e=>{d=je(d,e,` `)}),b&&ae?b.createHTML(d):d},t.setConfig=function(){ht(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),te=!0},t.clearConfig=function(){ot=null,te=!1},t.isValidAttribute=function(e,t,n){return ot||ht({}),Dt($(e),$(t),n)},t.addHook=function(e,t){typeof t==`function`&&Ee(D[e],t)},t.removeHook=function(e,t){if(t!==void 0){let n=we(D[e],t);return n===-1?void 0:De(D[e],n,1)[0]}return Te(D[e])},t.removeHooks=function(e){D[e]=[]},t.removeAllHooks=function(){D=dt()},t}var pt=ft(),mt=o(),ht=e=>{let t=(0,mt.c)(49),{src:n,alt:r,title:i,className:a,width:o,height:s,caption:c,showCaption:l,priority:u}=e,d=r===void 0?``:r,f=a===void 0?``:a,p=l===void 0?!0:l,m=u===void 0?!1:u,[h,_]=(0,U.useState)(!0),[v,y]=(0,U.useState)(!1),[b,x]=(0,U.useState)(!0),[S,C]=(0,U.useState)(m),w=(0,U.useRef)(null),T;t[0]===n?T=t[1]:(T=g(n),t[0]=n,t[1]=T);let O=T,k,A;t[2]===m?(k=t[3],A=t[4]):(k=()=>{if(m){C(!0);return}let e=new IntersectionObserver(t=>{let[n]=t;n.isIntersecting&&(C(!0),w.current&&e.unobserve(w.current))},{root:null,rootMargin:`100px`,threshold:.01});return w.current&&e.observe(w.current),()=>{w.current&&e.unobserve(w.current)}},A=[m],t[2]=m,t[3]=k,t[4]=A),(0,U.useEffect)(k,A);let j;t[5]===Symbol.for(`react.memo_cache_sentinel`)?(j=()=>{_(!1)},t[5]=j):j=t[5];let M=j,N;t[6]===Symbol.for(`react.memo_cache_sentinel`)?(N=()=>{_(!1),y(!0)},t[6]=N):N=t[6];let P=N,F;t[7]===b?F=t[8]:(F=()=>{x(!b)},t[7]=b,t[8]=F);let I=F;if(!b){let e=`relative w-full bg-muted-bg border border-border-color rounded-lg flex items-center justify-center cursor-pointer ${f}`,n;t[9]===I?n=t[10]:(n=e=>{(e.key===`Enter`||e.key===` `)&&I()},t[9]=I,t[10]=n);let r=b?`Hide image`:`Show image`,i;t[11]===Symbol.for(`react.memo_cache_sentinel`)?(i=(0,W.jsxs)(`div`,{className:`text-center p-4`,children:[(0,W.jsx)(E,{className:`w-8 h-8 mx-auto text-muted-text`}),(0,W.jsx)(`p`,{className:`mt-2 text-sm text-muted-text`,children:`Image hidden`}),(0,W.jsx)(`p`,{className:`text-xs text-muted-text`,children:`Click to show`})]}),t[11]=i):i=t[11];let a;return t[12]!==e||t[13]!==n||t[14]!==r||t[15]!==I?(a=(0,W.jsx)(`button`,{type:`button`,className:e,onClick:I,onKeyDown:n,"aria-label":r,children:i}),t[12]=e,t[13]=n,t[14]=r,t[15]=I,t[16]=a):a=t[16],a}if(v){let e=`relative w-full bg-muted-bg border border-border-color rounded-lg flex items-center justify-center ${f}`,n,r;t[17]===Symbol.for(`react.memo_cache_sentinel`)?(n=(0,W.jsx)(`div`,{className:`bg-muted-bg border-2 border-dashed border-border-color rounded-xl w-16 h-16 mx-auto`}),r=(0,W.jsx)(`p`,{className:`mt-2 text-sm text-muted-text`,children:`Image failed to load`}),t[17]=n,t[18]=r):(n=t[17],r=t[18]);let i;t[19]===O?i=t[20]:(i=(0,W.jsxs)(`div`,{className:`text-center p-4`,children:[n,r,(0,W.jsx)(`p`,{className:`text-xs text-muted-text`,children:O})]}),t[19]=O,t[20]=i);let a;return t[21]!==e||t[22]!==i?(a=(0,W.jsx)(`div`,{className:e,children:i}),t[21]=e,t[22]=i,t[23]=a):a=t[23],a}let L=`relative ${f}`,R;t[24]===h?R=t[25]:(R=h&&(0,W.jsx)(`div`,{className:`absolute inset-0 bg-muted-bg animate-pulse rounded-lg flex items-center justify-center`,children:(0,W.jsx)(`span`,{className:`text-sm text-muted-text`,children:`Loading...`})}),t[24]=h,t[25]=R);let z=S?O:``,B=`w-full h-auto rounded-lg ${h?`opacity-0`:`opacity-100`} transition-opacity duration-300`,V=m?`eager`:`lazy`,H;t[26]!==d||t[27]!==s||t[28]!==z||t[29]!==B||t[30]!==V||t[31]!==i||t[32]!==o?(H=(0,W.jsx)(`img`,{ref:w,src:z,alt:d,title:i,width:o,height:s,crossOrigin:`anonymous`,onLoad:M,onError:P,className:B,loading:V,decoding:`async`}),t[26]=d,t[27]=s,t[28]=z,t[29]=B,t[30]=V,t[31]=i,t[32]=o,t[33]=H):H=t[33];let G;t[34]!==c||t[35]!==p?(G=p&&c&&(0,W.jsx)(`figcaption`,{className:`mt-2 text-sm text-center text-muted-text italic`,children:c}),t[34]=c,t[35]=p,t[36]=G):G=t[36];let K=b?`Hide image`:`Show image`,q;t[37]===b?q=t[38]:(q=b?(0,W.jsx)(E,{className:`w-4 h-4`}):(0,W.jsx)(D,{className:`w-4 h-4`}),t[37]=b,t[38]=q);let J;t[39]!==K||t[40]!==q||t[41]!==I?(J=(0,W.jsx)(`button`,{type:`button`,onClick:I,className:`absolute top-2 right-2 p-1.5 bg-black/50 hover:bg-black/70 text-white rounded-full transition-all opacity-0 hover:opacity-100 group-hover:opacity-100`,"aria-label":K,children:q}),t[39]=K,t[40]=q,t[41]=I,t[42]=J):J=t[42];let Y;return t[43]!==L||t[44]!==R||t[45]!==H||t[46]!==G||t[47]!==J?(Y=(0,W.jsxs)(`figure`,{className:L,ref:w,children:[R,H,G,J]}),t[43]=L,t[44]=R,t[45]=H,t[46]=G,t[47]=J,t[48]=Y):Y=t[48],Y},gt=o(),_t=e=>{let t=(0,gt.c)(56),{src:n,alt:r,title:i,className:a,width:o,height:s,poster:c,caption:l,showCaption:u,loop:d,muted:f,controls:p}=e,m=r===void 0?``:r,h=a===void 0?``:a,_=o===void 0?`100%`:o,v=s===void 0?`auto`:s,y=u===void 0?!0:u,b=d===void 0?!1:d,x=f===void 0?!1:f,S=p===void 0?!0:p,[C,w]=(0,U.useState)(!1),[T,E]=(0,U.useState)(x),[D,O]=(0,U.useState)(!0),[k,A]=(0,U.useState)(!1),j=(0,U.useRef)(null),M;t[0]===n?M=t[1]:(M=g(n),t[0]=n,t[1]=M);let P=M,F;t[2]===c?F=t[3]:(F=g(c),t[2]=c,t[3]=F);let R=F,z;t[4]===C?z=t[5]:(z=()=>{j.current&&(C?(j.current.pause(),w(!1)):(j.current.play(),w(!0)))},t[4]=C,t[5]=z);let H=z,G;t[6]===T?G=t[7]:(G=()=>{j.current&&(j.current.muted=!T,E(!T))},t[6]=T,t[7]=G);let K=G,q;t[8]===Symbol.for(`react.memo_cache_sentinel`)?(q=()=>{O(!0)},t[8]=q):q=t[8];let J=q,Y;t[9]===Symbol.for(`react.memo_cache_sentinel`)?(Y=()=>{O(!1)},t[9]=Y):Y=t[9];let X=Y,ee;t[10]===Symbol.for(`react.memo_cache_sentinel`)?(ee=()=>{O(!1),A(!0)},t[10]=ee):ee=t[10];let te=ee,ne;t[11]===b?ne=t[12]:(ne=()=>{j.current&&j.current.currentTime>=j.current.duration-.1&&!b&&w(!1)},t[11]=b,t[12]=ne);let re=ne,ie;t[13]===b?ie=t[14]:(ie=()=>{b||w(!1)},t[13]=b,t[14]=ie);let ae=ie;if(k){let e=`relative w-full bg-muted-bg border border-border-color rounded-lg flex flex-col items-center justify-center ${h}`,n,r;t[15]===Symbol.for(`react.memo_cache_sentinel`)?(n=(0,W.jsx)(`div`,{className:`bg-muted-bg border-2 border-dashed border-border-color rounded-xl w-16 h-16 mx-auto flex items-center justify-center`,children:(0,W.jsx)(L,{className:`w-6 h-6 text-muted-text`})}),r=(0,W.jsx)(`p`,{className:`mt-2 text-sm text-muted-text`,children:`Video failed to load`}),t[15]=n,t[16]=r):(n=t[15],r=t[16]);let i;t[17]===P?i=t[18]:(i=(0,W.jsxs)(`div`,{className:`p-4 text-center`,children:[n,r,(0,W.jsx)(`p`,{className:`text-xs text-muted-text`,children:P})]}),t[17]=P,t[18]=i);let a;return t[19]!==e||t[20]!==i?(a=(0,W.jsx)(`div`,{className:e,children:i}),t[19]=e,t[20]=i,t[21]=a):a=t[21],a}let oe=`relative ${h}`,se;t[22]===D?se=t[23]:(se=D&&(0,W.jsx)(`div`,{className:`absolute inset-0 bg-card flex items-center justify-center`,children:(0,W.jsx)(`div`,{className:`animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-white`})}),t[22]=D,t[23]=se);let ce=`w-full h-auto ${D?`opacity-0`:`opacity-100`} transition-opacity duration-300`,le,ue;t[24]===Symbol.for(`react.memo_cache_sentinel`)?(le=()=>w(!0),ue=()=>w(!1),t[24]=le,t[25]=ue):(le=t[24],ue=t[25]);let de=m||`Video content`,fe;t[26]!==S||t[27]!==re||t[28]!==ae||t[29]!==v||t[30]!==T||t[31]!==b||t[32]!==R||t[33]!==P||t[34]!==ce||t[35]!==de||t[36]!==i||t[37]!==_?(fe=(0,W.jsx)(`video`,{ref:j,src:P,poster:R,loop:b,muted:T,controls:S,width:_,height:v,title:i,crossOrigin:`anonymous`,className:ce,onPlay:le,onPause:ue,onEnded:ae,onTimeUpdate:re,onLoadStart:J,onCanPlay:X,onError:te,"aria-label":de}),t[26]=S,t[27]=re,t[28]=ae,t[29]=v,t[30]=T,t[31]=b,t[32]=R,t[33]=P,t[34]=ce,t[35]=de,t[36]=i,t[37]=_,t[38]=fe):fe=t[38];let pe;t[39]!==S||t[40]!==K||t[41]!==H||t[42]!==T||t[43]!==C?(pe=!S&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(`div`,{className:`absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity`,children:(0,W.jsx)(`button`,{type:`button`,onClick:H,className:`bg-black/50 hover:bg-black/70 text-white p-4 rounded-full transition-all`,"aria-label":C?`Pause video`:`Play video`,children:C?(0,W.jsx)(I,{className:`w-8 h-8`}):(0,W.jsx)(L,{className:`w-8 h-8`})})}),(0,W.jsxs)(`div`,{className:`absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4 opacity-0 hover:opacity-100 transition-opacity flex justify-between items-center`,children:[(0,W.jsx)(`button`,{type:`button`,onClick:K,className:`text-white hover:text-white/80`,"aria-label":T?`Unmute video`:`Mute video`,children:T?(0,W.jsx)(V,{className:`w-5 h-5`}):(0,W.jsx)(B,{className:`w-5 h-5`})}),(0,W.jsx)(`button`,{type:`button`,onClick:()=>{j.current&&j.current.requestFullscreen?.()},className:`text-white hover:text-white/80`,"aria-label":`Enter fullscreen`,children:(0,W.jsx)(N,{className:`w-5 h-5`})})]})]}),t[39]=S,t[40]=K,t[41]=H,t[42]=T,t[43]=C,t[44]=pe):pe=t[44];let me;t[45]!==se||t[46]!==fe||t[47]!==pe?(me=(0,W.jsxs)(`div`,{className:`relative bg-black rounded-lg overflow-hidden`,children:[se,fe,pe]}),t[45]=se,t[46]=fe,t[47]=pe,t[48]=me):me=t[48];let he;t[49]!==l||t[50]!==y?(he=y&&l&&(0,W.jsx)(`figcaption`,{className:`mt-2 text-sm text-center text-muted-text italic`,children:l}),t[49]=l,t[50]=y,t[51]=he):he=t[51];let ge;return t[52]!==oe||t[53]!==me||t[54]!==he?(ge=(0,W.jsxs)(`figure`,{className:oe,children:[me,he]}),t[52]=oe,t[53]=me,t[54]=he,t[55]=ge):ge=t[55],ge},vt=o(),yt=e=>{let t=(0,vt.c)(61),{onHighlight:n,onCopy:r,onSelectAll:i,onSearch:o,onAskAI:s,onAddComment:c,onClose:l,visible:u,position:d}=e,[f,p]=(0,U.useState)(!1),m=(0,U.useRef)(null),h,g;t[0]!==l||t[1]!==u?(h=()=>{let e=e=>{u&&(m.current?.contains(e.target)||(p(!1),l()))};return u&&document.addEventListener(`mousedown`,e),()=>{document.removeEventListener(`mousedown`,e)}},g=[u,l],t[0]=l,t[1]=u,t[2]=h,t[3]=g):(h=t[2],g=t[3]),(0,U.useEffect)(h,g);let v;t[4]===Symbol.for(`react.memo_cache_sentinel`)?(v=[{name:`Yellow`,value:`bg-yellow-200`,displayColor:`bg-yellow-400`},{name:`Green`,value:`bg-green-200`,displayColor:`bg-green-400`},{name:`Blue`,value:`bg-blue-200`,displayColor:`bg-blue-400`},{name:`Pink`,value:`bg-pink-200`,displayColor:`bg-pink-400`},{name:`Purple`,value:`bg-purple-200`,displayColor:`bg-purple-400`}],t[4]=v):v=t[4];let b=v;if(!u)return null;let x=Math.max(10,d.top-50),S;t[5]!==x||t[6]!==d.left?(S={top:x,left:d.left,transform:`translateX(-50%)`},t[5]=x,t[6]=d.left,t[7]=S):S=t[7];let w;t[8]===r?w=t[9]:(w=e=>{e.stopPropagation(),r()},t[8]=r,t[9]=w);let T;t[10]===Symbol.for(`react.memo_cache_sentinel`)?(T=(0,W.jsx)(a,{className:`w-4 h-4`}),t[10]=T):T=t[10];let E;t[11]===w?E=t[12]:(E=(0,W.jsx)(`button`,{type:`button`,onClick:w,className:`p-2 rounded-md hover:bg-muted-bg transition-colors`,title:`Copy text`,children:T}),t[11]=w,t[12]=E);let D;t[13]===o?D=t[14]:(D=e=>{e.stopPropagation(),o()},t[13]=o,t[14]=D);let O;t[15]===Symbol.for(`react.memo_cache_sentinel`)?(O=(0,W.jsx)(y,{className:`w-4 h-4`}),t[15]=O):O=t[15];let k;t[16]===D?k=t[17]:(k=(0,W.jsx)(`button`,{type:`button`,onClick:D,className:`p-2 rounded-md hover:bg-muted-bg transition-colors`,title:`Search Web`,children:O}),t[16]=D,t[17]=k);let A;t[18]===s?A=t[19]:(A=e=>{e.stopPropagation(),s()},t[18]=s,t[19]=A);let j;t[20]===Symbol.for(`react.memo_cache_sentinel`)?(j=(0,W.jsx)(C,{className:`w-4 h-4`}),t[20]=j):j=t[20];let M;t[21]===A?M=t[22]:(M=(0,W.jsx)(`button`,{type:`button`,onClick:A,className:`p-2 rounded-md hover:bg-muted-bg transition-colors`,title:`Ask AI`,children:j}),t[21]=A,t[22]=M);let N;t[23]===c?N=t[24]:(N=e=>{e.stopPropagation(),c()},t[23]=c,t[24]=N);let I;t[25]===Symbol.for(`react.memo_cache_sentinel`)?(I=(0,W.jsx)(P,{className:`w-4 h-4`}),t[25]=I):I=t[25];let L;t[26]===N?L=t[27]:(L=(0,W.jsx)(`button`,{type:`button`,onClick:N,className:`p-2 rounded-md hover:bg-muted-bg transition-colors`,title:`Quote Reply`,children:I}),t[26]=N,t[27]=L);let z;t[28]===Symbol.for(`react.memo_cache_sentinel`)?(z=(0,W.jsx)(`div`,{className:`w-px h-4 bg-border-color mx-1`}),t[28]=z):z=t[28];let B;t[29]===i?B=t[30]:(B=e=>{e.stopPropagation(),i()},t[29]=i,t[30]=B);let V;t[31]===Symbol.for(`react.memo_cache_sentinel`)?(V=(0,W.jsx)(R,{className:`w-4 h-4`}),t[31]=V):V=t[31];let H;t[32]===B?H=t[33]:(H=(0,W.jsx)(`button`,{type:`button`,onClick:B,className:`p-2 rounded-md hover:bg-muted-bg transition-colors`,title:`Select all`,children:V}),t[32]=B,t[33]=H);let G;t[34]===f?G=t[35]:(G=e=>{e.stopPropagation(),p(!f)},t[34]=f,t[35]=G);let K=`p-2 rounded-md hover:bg-muted-bg transition-colors flex items-center gap-1 ${f?`bg-muted-bg`:``}`,q;t[36]===Symbol.for(`react.memo_cache_sentinel`)?(q=(0,W.jsx)(F,{className:`w-4 h-4`}),t[36]=q):q=t[36];let J;t[37]!==G||t[38]!==K?(J=(0,W.jsx)(`button`,{type:`button`,onClick:G,className:K,title:`Highlight text`,children:q}),t[37]=G,t[38]=K,t[39]=J):J=t[39];let Y;t[40]!==n||t[41]!==f?(Y=f&&(0,W.jsx)(`div`,{className:`absolute top-full mt-2 left-1/2 -translate-x-1/2 bg-card border border-border-color rounded-lg shadow-xl p-2 flex flex-wrap gap-2 w-32 z-20`,children:b.map(e=>(0,W.jsx)(`button`,{type:`button`,onClick:t=>{t.stopPropagation(),n(e.value),p(!1)},className:`w-6 h-6 rounded-full ${e.displayColor} hover:scale-110 transition-transform ring-1 ring-border-color`,title:`Highlight with ${e.name}`},e.name))}),t[40]=n,t[41]=f,t[42]=Y):Y=t[42];let X;t[43]!==J||t[44]!==Y?(X=(0,W.jsxs)(`div`,{className:`relative`,children:[J,Y]}),t[43]=J,t[44]=Y,t[45]=X):X=t[45];let ee;t[46]===Symbol.for(`react.memo_cache_sentinel`)?(ee=(0,W.jsx)(`div`,{className:`w-px h-4 bg-border-color mx-1`}),t[46]=ee):ee=t[46];let te;t[47]===l?te=t[48]:(te=e=>{e.stopPropagation(),l()},t[47]=l,t[48]=te);let ne;t[49]===Symbol.for(`react.memo_cache_sentinel`)?(ne=(0,W.jsx)(_,{className:`w-4 h-4`}),t[49]=ne):ne=t[49];let re;t[50]===te?re=t[51]:(re=(0,W.jsx)(`button`,{type:`button`,onClick:te,className:`p-1 rounded-md hover:bg-red-100 hover:text-red-600 transition-colors ml-1`,title:`Close toolbar`,children:ne}),t[50]=te,t[51]=re);let ie;return t[52]!==k||t[53]!==M||t[54]!==L||t[55]!==H||t[56]!==X||t[57]!==re||t[58]!==S||t[59]!==E?(ie=(0,W.jsxs)(`div`,{ref:m,role:`toolbar`,className:`absolute z-[1000] flex items-center gap-1 bg-card text-card-text shadow-xl rounded-lg p-2 border border-border-color animate-in fade-in zoom-in-95 duration-200 max-w-[95vw] overflow-x-auto`,style:S,onMouseDown:bt,children:[E,k,M,L,z,H,X,ee,re]}),t[52]=k,t[53]=M,t[54]=L,t[55]=H,t[56]=X,t[57]=re,t[58]=S,t[59]=E,t[60]=ie):ie=t[60],ie};function bt(e){return e.stopPropagation()}var xt=o(),St=e=>{let t=(0,xt.c)(39),{content:n,className:r,fontSizeClass:i,containerRef:a,enableTextSelectionToolbar:o,onTextSelected:s,onAddComment:c}=e,l=r===void 0?``:r,u=i===void 0?``:i,f=o===void 0?!1:o,[p,m]=(0,U.useState)(!1),h;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(h={top:0,left:0},t[0]=h):h=t[0];let[g,_]=(0,U.useState)(h),[v,y]=(0,U.useState)(``),b=n,x;if(t[1]!==b){let e=[];b=b.replace(/<img\s+([^>]*?)\s*>/gi,(t,n)=>{let r=n.match(/src\s*=\s*["']([^"']*)["']/i),i=n.match(/alt\s*=\s*["']([^"']*)["']/i),a=n.match(/title\s*=\s*["']([^"']*)["']/i),o=n.match(/width\s*=\s*["']([^"']*)["']/i),s=n.match(/height\s*=\s*["']([^"']*)["']/i),c=e.length;return e.push((0,W.jsx)(ht,{src:r?r[1]:``,alt:i?i[1]:``,title:a?a[1]:``,width:o?o[1]:void 0,height:s?s[1]:void 0,className:`my-4`},`img-${c}`)),`__CUSTOM_COMPONENT_PLACEHOLDER_${c}__`}),b=b.replace(/<video\s+([^>]*?)\s*\/?>.*?<\/video>|<video\s+([^>]*?)\s*>/gi,t=>{let n=t.match(/src\s*=\s*["']([^"']*)["']/i),r=t.match(/poster\s*=\s*["']([^"']*)["']/i),i=t.match(/alt\s*=\s*["']([^"']*)["']/i),a=t.match(/title\s*=\s*["']([^"']*)["']/i),o=t.match(/width\s*=\s*["']([^"']*)["']/i),s=t.match(/height\s*=\s*["']([^"']*)["']/i),c=t.includes(`loop`),l=t.includes(`muted`),u=t.includes(`controls`),d=e.length;return e.push((0,W.jsx)(_t,{src:n?n[1]:``,poster:r?r[1]:``,alt:i?i[1]:``,title:a?a[1]:``,width:o?o[1]:void 0,height:s?s[1]:void 0,loop:c,muted:l,controls:u,className:`my-4`},`video-${d}`)),`__CUSTOM_COMPONENT_PLACEHOLDER_${d}__`});let n=b.split(/(__CUSTOM_COMPONENT_PLACEHOLDER_\d+__)/),r=(e,t)=>{if(e.nodeType===Node.TEXT_NODE){let t=e.textContent;return t?.trim()?t:null}if(e.nodeType===Node.ELEMENT_NODE){let n=e,i={key:t};for(let e=0;e<n.attributes.length;e++){let t=n.attributes[e],r=t.name===`class`?`className`:t.name;i[r]=t.value}let a=Array.from(n.childNodes).map((e,n)=>r(e,`${t}-child-${n}`)).filter(Ct);return(0,U.createElement)(n.tagName.toLowerCase(),i,...a)}return null};x=n.map((t,n)=>{if(t.startsWith(`__CUSTOM_COMPONENT_PLACEHOLDER_`)){let n=t.match(/__CUSTOM_COMPONENT_PLACEHOLDER_(\d+)__/);if(n)return e[parseInt(n[1],10)]}else if(t.trim()){let e=pt.sanitize(t),i=document.createElement(`div`);return i.innerHTML=e,Array.from(i.childNodes).map((e,t)=>r(e,`part-${n}-node-${t}`)).filter(wt)}return null}).filter(Boolean).flat(),t[1]=b,t[2]=x,t[3]=b}else x=t[2],b=t[3];let S=x,C,w;t[4]!==a||t[5]!==f||t[6]!==s?(C=()=>{if(!f)return;let e=()=>{let e=window.getSelection();if(!e||e.toString().trim()===``){m(!1),y(``);return}let t=e.toString().trim();if(!t){m(!1);return}let n=e.getRangeAt(0),r=a?.current;if(!r||!r.contains(n.commonAncestorContainer)){m(!1);return}let i=document.createRange();i.setStart(n.endContainer,n.endOffset),i.collapse(!0);let o=i.getBoundingClientRect(),c=r.getBoundingClientRect(),l=o.top-c.top-50,u=o.left-c.left+o.width/2;u=Math.max(160,Math.min(u,c.width-160)),c.width<320&&(u=c.width/2),_({top:l,left:u}),y(t),m(!0),s&&s(t)},t=()=>{setTimeout(e,0)};return document.addEventListener(`mouseup`,t),document.addEventListener(`selectionchange`,e),()=>{document.removeEventListener(`mouseup`,t),document.removeEventListener(`selectionchange`,e)}},w=[f,a,s],t[4]=a,t[5]=f,t[6]=s,t[7]=C,t[8]=w):(C=t[7],w=t[8]),(0,U.useEffect)(C,w);let T;t[9]===v?T=t[10]:(T=()=>{v&&navigator.clipboard.writeText(v).then(()=>{d(`Text copied to clipboard`),m(!1)}).catch(()=>{let e=document.createElement(`textarea`);e.value=v,document.body.appendChild(e),e.select(),document.execCommand(`copy`),document.body.removeChild(e),d(`Text copied to clipboard`),m(!1)})},t[9]=v,t[10]=T);let E=T,D;t[11]===v?D=t[12]:(D=()=>{v&&(window.open(`https://www.google.com/search?q=${encodeURIComponent(v)}`,`_blank`),m(!1))},t[11]=v,t[12]=D);let O=D,k;t[13]===v?k=t[14]:(k=()=>{v&&(navigator.clipboard.writeText(v).catch(Tt),window.open(`https://chat.openai.com`,`_blank`),d(`Text copied! Paste it in ChatGPT.`),m(!1))},t[13]=v,t[14]=k);let A=k,j;t[15]!==c||t[16]!==v?(j=()=>{v&&c&&(c(v),m(!1))},t[15]=c,t[16]=v,t[17]=j):j=t[17];let M=j,N;t[18]===a?N=t[19]:(N=()=>{let e=a?.current;if(e){let t=window.getSelection();if(t){let n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}}},t[18]=a,t[19]=N);let P=N,F;t[20]===Symbol.for(`react.memo_cache_sentinel`)?(F=e=>{let t=window.getSelection();if(!t||t.toString().trim()===``)return;let n=t.getRangeAt(0),r=document.createElement(`span`);r.className=`${e} rounded-sm transition-colors duration-200`,n.surroundContents(r),t.removeAllRanges(),m(!1)},t[20]=F):F=t[20];let I=F,L;t[21]===a?L=t[22]:(L=e=>{let t=window.getSelection();if(t&&t.toString().trim()!==``){e.preventDefault();let n=t.toString().trim();if(n&&a?.current){let e=t.getRangeAt(0);if(a.current.contains(e.commonAncestorContainer)){let t=document.createRange();t.setStart(e.endContainer,e.endOffset),t.collapse(!0);let r=t.getBoundingClientRect(),i=a.current.getBoundingClientRect(),o=r.top-i.top-50,s=r.left-i.left+r.width/2;s=Math.max(160,Math.min(s,i.width-160)),i.width<320&&(s=i.width/2),_({top:o,left:s}),y(n),m(!0)}}}},t[21]=a,t[22]=L);let R=L,z=`relative prose max-w-none ${u} ${l} transition-all duration-300 ease-in-out`,B;t[23]===Symbol.for(`react.memo_cache_sentinel`)?(B={fontSize:`inherit`},t[23]=B):B=t[23];let V=f&&p,H;t[24]===Symbol.for(`react.memo_cache_sentinel`)?(H=()=>m(!1),t[24]=H):H=t[24];let G;t[25]!==M||t[26]!==A||t[27]!==E||t[28]!==O||t[29]!==P||t[30]!==V||t[31]!==g?(G=(0,W.jsx)(yt,{visible:V,position:g,onHighlight:I,onCopy:E,onSelectAll:P,onSearch:O,onAskAI:A,onAddComment:M,onClose:H}),t[25]=M,t[26]=A,t[27]=E,t[28]=O,t[29]=P,t[30]=V,t[31]=g,t[32]=G):G=t[32];let K;return t[33]!==a||t[34]!==R||t[35]!==S||t[36]!==z||t[37]!==G?(K=(0,W.jsxs)(`article`,{ref:a,tabIndex:-1,className:z,style:B,onContextMenu:R,children:[S,G]}),t[33]=a,t[34]=R,t[35]=S,t[36]=z,t[37]=G,t[38]=K):K=t[38],K};function Ct(e){return e!=null}function wt(e){return e!==null}function Tt(){}export{ue as a,ne as c,J as d,G as f,de as i,X as l,pt as n,ce as o,T as p,fe as r,oe as s,St as t,Y as u};