import{a as e,f as t,r as n,v as r}from"./vendor-react-DDJd_2jx.js";import{M as i,rt as a}from"./vendor-ui-dKvDeG77.js";import"./vendor-utils-DddD4xHt.js";import{_ as o,d as s,f as c,g as l,h as u,m as d,n as f}from"./index-DqzbhcUa.js";var p=r(),m=n(),h=()=>{let{commentId:n}=t(),r=n?parseInt(n,10):null,{language:h}=o(),[g,_]=(0,p.useState)(null),[v,y]=(0,p.useState)(!0);return(0,p.useEffect)(()=>{(async()=>{if(!r){y(!1);return}y(!0);try{let e=await f.getAllComments();if(e.success&&e.comments){let t=e.comments.find(e=>e.id===r);t?_(t):u(`Comment not found`,`error`)}}catch{u(l(`server_error`,h),`error`)}finally{y(!1)}})()},[r,h]),v?(0,m.jsx)(`div`,{className:`flex items-center justify-center h-screen`,children:(0,m.jsx)(i,{className:`w-8 h-8 animate-spin text-bbcRed`})}):g?(0,m.jsxs)(`div`,{className:`max-w-2xl mx-auto p-6`,children:[(0,m.jsxs)(e,{to:`/admin/comments`,className:`flex items-center gap-2 text-bbcRed hover:opacity-80 mb-6`,children:[(0,m.jsx)(a,{className:`w-5 h-5`}),l(`back`,h)]}),(0,m.jsxs)(`div`,{className:`bg-card rounded-xl border border-border-color p-6 shadow-sm`,children:[(0,m.jsxs)(`div`,{className:`flex items-start gap-4 mb-6`,children:[(0,m.jsx)(`div`,{className:`w-12 h-12 rounded-full bg-gradient-to-br from-bbcRed to-orange-600 flex items-center justify-center text-white text-lg font-bold`,children:g.user_name.charAt(0).toUpperCase()}),(0,m.jsxs)(`div`,{children:[(0,m.jsx)(`h1`,{className:`text-xl font-bold`,children:s(g.user_name)}),(0,m.jsx)(`p`,{className:`text-muted-text text-sm`,children:c(g.created_at,h)})]})]}),(0,m.jsxs)(`div`,{className:`space-y-4`,children:[(0,m.jsxs)(`div`,{children:[(0,m.jsx)(`div`,{className:`text-xs font-bold text-muted-text uppercase`,children:l(`article`,h)}),(0,m.jsx)(e,{to:`/admin/articles/${g.article_id}/edit`,className:`text-bbcRed hover:opacity-80 text-sm mt-1 block`,children:s(h===`bn`?g.title_bn:g.title_en||`Unknown Article`)})]}),(0,m.jsxs)(`div`,{children:[(0,m.jsx)(`div`,{className:`text-xs font-bold text-muted-text uppercase`,children:l(`comment_text`,h)}),(0,m.jsx)(`div`,{className:`prose prose-sm dark:prose-invert mt-2 text-card-text`,children:(()=>{let e=d(g.text),t=document.createElement(`div`);t.innerHTML=e;let n=e=>{if(e.nodeType===Node.TEXT_NODE)return e.textContent;if(e.nodeType===Node.ELEMENT_NODE){let t=e,r={};for(let e=0;e<t.attributes.length;e++){let n=t.attributes[e],i=n.name===`class`?`className`:n.name;r[i]=n.value}let i=Array.from(t.childNodes).map(n);return(0,p.createElement)(t.tagName.toLowerCase(),r,...i)}return null};return Array.from(t.childNodes).map((e,t)=>n(e))})()})]}),(0,m.jsxs)(`div`,{className:`text-xs text-muted-text pt-4 border-t border-border-color`,children:[l(`id`,h),`: `,g.id]})]})]})]}):(0,m.jsx)(`div`,{className:`flex items-center justify-center h-screen`,children:(0,m.jsx)(`p`,{className:`text-muted-text`,children:l(`invalid_comment`,h)})})};export{h as default};